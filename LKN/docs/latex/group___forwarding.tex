\hypertarget{group___forwarding}{}\section{Forwarding}
\label{group___forwarding}\index{Forwarding@{Forwarding}}


Forwarding engine.  


\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structrpl__routing__ht}{rpl\+\_\+routing\+\_\+ht}
\begin{DoxyCompactList}\small\item\em R\+PL source routing header. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group___forwarding_gae88a822ccea38205da29ece34f87e337}{R\+P\+L\+\_\+\+H\+O\+P\+B\+Y\+H\+O\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}~0x63
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{group___forwarding_ggac8347fa324c6412b168db6df3464ad80ab7e5cdc1dd813d3171f816d522e21d53}{P\+C\+K\+T\+F\+O\+R\+W\+A\+RD} = 1, 
\hyperlink{group___forwarding_ggac8347fa324c6412b168db6df3464ad80ad43ec09324c0ce7faa1f3391e6359586}{P\+C\+K\+T\+S\+E\+ND} = 2
 \}
\item 
enum \{ \\*
\hyperlink{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da3acc8206f3fc926cd7ccc97c4b75abdd}{O\+\_\+\+F\+L\+AG} = 0x10, 
\hyperlink{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dad79fe8d92ad805c22d20c6df03e21e69}{R\+\_\+\+F\+L\+AG} = 0x08, 
\hyperlink{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da60665c7ea4f40351f4c2cc206025c0bd}{F\+\_\+\+F\+L\+AG} = 0x04, 
\hyperlink{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da65ced0c1066ebce2044125f1e601925b}{I\+\_\+\+F\+L\+AG} = 0x02, 
\\*
\hyperlink{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dae206c979eb3766327cdd1f32760f96c7}{K\+\_\+\+F\+L\+AG} = 0x01, 
\hyperlink{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dafb72b2d48c5f64f19615eed846270086}{F\+L\+A\+G\+\_\+\+M\+A\+SK} = 0x1F
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{toolchain__defs_8h_a6e6e74e14acee2db089b33d772e3265f}{E\+N\+D\+\_\+\+P\+A\+CK} \hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___forwarding_gae600edfbe024170f4eedb417d85d8e90}{forwarding\+\_\+init} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Initialize this module. \end{DoxyCompactList}\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___forwarding_ga25d2a7dbc2a0f5e5dda70ff43ef25cb4}{forwarding\+\_\+send} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Send a packet originating at this mote. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___forwarding_gae2d3a3aeedf39da862539fae72235464}{forwarding\+\_\+send\+Done} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{disk_8c_ad018a3100b2dabad325a0800152db297}{error})
\begin{DoxyCompactList}\small\item\em Indicates a packet has been sent. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___forwarding_gafc64a413d826b5aaedc27869fc165314}{forwarding\+\_\+receive} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{structipv6__header__iht}{ipv6\+\_\+header\+\_\+iht} $\ast$ipv6\+\_\+outer\+\_\+header, \hyperlink{structipv6__header__iht}{ipv6\+\_\+header\+\_\+iht} $\ast$ipv6\+\_\+inner\+\_\+header, \hyperlink{structrpl__option__ht}{rpl\+\_\+option\+\_\+ht} $\ast$rpl\+\_\+option)
\begin{DoxyCompactList}\small\item\em Indicates a packet was received. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Forwarding engine. 

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2010 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\index{Forwarding@{Forwarding}!R\+P\+L\+\_\+\+H\+O\+P\+B\+Y\+H\+O\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+Y\+PE@{R\+P\+L\+\_\+\+H\+O\+P\+B\+Y\+H\+O\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}}
\index{R\+P\+L\+\_\+\+H\+O\+P\+B\+Y\+H\+O\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+Y\+PE@{R\+P\+L\+\_\+\+H\+O\+P\+B\+Y\+H\+O\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}!Forwarding@{Forwarding}}
\subsubsection[{\texorpdfstring{R\+P\+L\+\_\+\+H\+O\+P\+B\+Y\+H\+O\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}{RPL_HOPBYHOP_HEADER_OPTION_TYPE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+P\+L\+\_\+\+H\+O\+P\+B\+Y\+H\+O\+P\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+O\+P\+T\+I\+O\+N\+\_\+\+T\+Y\+PE~0x63}\hypertarget{group___forwarding_gae88a822ccea38205da29ece34f87e337}{}\label{group___forwarding_gae88a822ccea38205da29ece34f87e337}


Definition at line 15 of file forwarding.\+h.



\subsection{Enumeration Type Documentation}
\subsubsection[{\texorpdfstring{anonymous enum}{anonymous enum}}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}\hypertarget{group___forwarding_gac8347fa324c6412b168db6df3464ad80}{}\label{group___forwarding_gac8347fa324c6412b168db6df3464ad80}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{P\+C\+K\+T\+F\+O\+R\+W\+A\+RD@{P\+C\+K\+T\+F\+O\+R\+W\+A\+RD}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!P\+C\+K\+T\+F\+O\+R\+W\+A\+RD@{P\+C\+K\+T\+F\+O\+R\+W\+A\+RD}}\item[{\em 
P\+C\+K\+T\+F\+O\+R\+W\+A\+RD\hypertarget{group___forwarding_ggac8347fa324c6412b168db6df3464ad80ab7e5cdc1dd813d3171f816d522e21d53}{}\label{group___forwarding_ggac8347fa324c6412b168db6df3464ad80ab7e5cdc1dd813d3171f816d522e21d53}
}]\index{P\+C\+K\+T\+S\+E\+ND@{P\+C\+K\+T\+S\+E\+ND}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!P\+C\+K\+T\+S\+E\+ND@{P\+C\+K\+T\+S\+E\+ND}}\item[{\em 
P\+C\+K\+T\+S\+E\+ND\hypertarget{group___forwarding_ggac8347fa324c6412b168db6df3464ad80ad43ec09324c0ce7faa1f3391e6359586}{}\label{group___forwarding_ggac8347fa324c6412b168db6df3464ad80ad43ec09324c0ce7faa1f3391e6359586}
}]\end{description}
\end{Desc}


Definition at line 17 of file forwarding.\+h.

\subsubsection[{\texorpdfstring{anonymous enum}{anonymous enum}}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}\hypertarget{group___forwarding_gabe821d0fac05333be298917dcb50ee1d}{}\label{group___forwarding_gabe821d0fac05333be298917dcb50ee1d}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{O\+\_\+\+F\+L\+AG@{O\+\_\+\+F\+L\+AG}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!O\+\_\+\+F\+L\+AG@{O\+\_\+\+F\+L\+AG}}\item[{\em 
O\+\_\+\+F\+L\+AG\hypertarget{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da3acc8206f3fc926cd7ccc97c4b75abdd}{}\label{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da3acc8206f3fc926cd7ccc97c4b75abdd}
}]\index{R\+\_\+\+F\+L\+AG@{R\+\_\+\+F\+L\+AG}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!R\+\_\+\+F\+L\+AG@{R\+\_\+\+F\+L\+AG}}\item[{\em 
R\+\_\+\+F\+L\+AG\hypertarget{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dad79fe8d92ad805c22d20c6df03e21e69}{}\label{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dad79fe8d92ad805c22d20c6df03e21e69}
}]\index{F\+\_\+\+F\+L\+AG@{F\+\_\+\+F\+L\+AG}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!F\+\_\+\+F\+L\+AG@{F\+\_\+\+F\+L\+AG}}\item[{\em 
F\+\_\+\+F\+L\+AG\hypertarget{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da60665c7ea4f40351f4c2cc206025c0bd}{}\label{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da60665c7ea4f40351f4c2cc206025c0bd}
}]\index{I\+\_\+\+F\+L\+AG@{I\+\_\+\+F\+L\+AG}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!I\+\_\+\+F\+L\+AG@{I\+\_\+\+F\+L\+AG}}\item[{\em 
I\+\_\+\+F\+L\+AG\hypertarget{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da65ced0c1066ebce2044125f1e601925b}{}\label{group___forwarding_ggabe821d0fac05333be298917dcb50ee1da65ced0c1066ebce2044125f1e601925b}
}]\index{K\+\_\+\+F\+L\+AG@{K\+\_\+\+F\+L\+AG}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!K\+\_\+\+F\+L\+AG@{K\+\_\+\+F\+L\+AG}}\item[{\em 
K\+\_\+\+F\+L\+AG\hypertarget{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dae206c979eb3766327cdd1f32760f96c7}{}\label{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dae206c979eb3766327cdd1f32760f96c7}
}]\index{F\+L\+A\+G\+\_\+\+M\+A\+SK@{F\+L\+A\+G\+\_\+\+M\+A\+SK}!Forwarding@{Forwarding}}\index{Forwarding@{Forwarding}!F\+L\+A\+G\+\_\+\+M\+A\+SK@{F\+L\+A\+G\+\_\+\+M\+A\+SK}}\item[{\em 
F\+L\+A\+G\+\_\+\+M\+A\+SK\hypertarget{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dafb72b2d48c5f64f19615eed846270086}{}\label{group___forwarding_ggabe821d0fac05333be298917dcb50ee1dafb72b2d48c5f64f19615eed846270086}
}]\end{description}
\end{Desc}


Definition at line 22 of file forwarding.\+h.



\subsection{Function Documentation}
\index{Forwarding@{Forwarding}!forwarding\+\_\+init@{forwarding\+\_\+init}}
\index{forwarding\+\_\+init@{forwarding\+\_\+init}!Forwarding@{Forwarding}}
\subsubsection[{\texorpdfstring{forwarding\+\_\+init(void)}{forwarding_init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf E\+N\+D\+\_\+\+P\+A\+CK} {\bf void} forwarding\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group___forwarding_gae600edfbe024170f4eedb417d85d8e90}{}\label{group___forwarding_gae600edfbe024170f4eedb417d85d8e90}


Initialize this module. 



Definition at line 49 of file forwarding.\+c.

\index{Forwarding@{Forwarding}!forwarding\+\_\+receive@{forwarding\+\_\+receive}}
\index{forwarding\+\_\+receive@{forwarding\+\_\+receive}!Forwarding@{Forwarding}}
\subsubsection[{\texorpdfstring{forwarding\+\_\+receive(\+Open\+Queue\+Entry\+\_\+t $\ast$msg, ipv6\+\_\+header\+\_\+iht $\ast$ipv6\+\_\+outer\+\_\+header, ipv6\+\_\+header\+\_\+iht $\ast$ipv6\+\_\+inner\+\_\+header, rpl\+\_\+option\+\_\+ht $\ast$rpl\+\_\+option)}{forwarding_receive(OpenQueueEntry_t *msg, ipv6_header_iht *ipv6_outer_header, ipv6_header_iht *ipv6_inner_header, rpl_option_ht *rpl_option)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} forwarding\+\_\+receive (
\begin{DoxyParamCaption}
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{msg, }
\item[{{\bf ipv6\+\_\+header\+\_\+iht} $\ast$}]{ipv6\+\_\+outer\+\_\+header, }
\item[{{\bf ipv6\+\_\+header\+\_\+iht} $\ast$}]{ipv6\+\_\+inner\+\_\+header, }
\item[{{\bf rpl\+\_\+option\+\_\+ht} $\ast$}]{rpl\+\_\+option}
\end{DoxyParamCaption}
)}\hypertarget{group___forwarding_gafc64a413d826b5aaedc27869fc165314}{}\label{group___forwarding_gafc64a413d826b5aaedc27869fc165314}


Indicates a packet was received. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em msg} & The packet just sent. \\
\hline
\mbox{\tt in}  & {\em ipv6\+\_\+header} & The information contained in the I\+Pv6 header. \\
\hline
\mbox{\tt in}  & {\em ipv6\+\_\+hop\+\_\+header} & The hop-\/by-\/hop header present in the packet. \\
\hline
\mbox{\tt in}  & {\em rpl\+\_\+option} & The hop-\/by-\/hop options present in the packet. \\
\hline
\end{DoxyParams}


Definition at line 225 of file forwarding.\+c.

\index{Forwarding@{Forwarding}!forwarding\+\_\+send@{forwarding\+\_\+send}}
\index{forwarding\+\_\+send@{forwarding\+\_\+send}!Forwarding@{Forwarding}}
\subsubsection[{\texorpdfstring{forwarding\+\_\+send(\+Open\+Queue\+Entry\+\_\+t $\ast$msg)}{forwarding_send(OpenQueueEntry_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf owerror\+\_\+t} forwarding\+\_\+send (
\begin{DoxyParamCaption}
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group___forwarding_ga25d2a7dbc2a0f5e5dda70ff43ef25cb4}{}\label{group___forwarding_ga25d2a7dbc2a0f5e5dda70ff43ef25cb4}


Send a packet originating at this mote. 

This function is called by an upper layer, and only concerns packets originated at this mote.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em msg} & Packet to send. \\
\hline
\end{DoxyParams}


Definition at line 60 of file forwarding.\+c.

\index{Forwarding@{Forwarding}!forwarding\+\_\+send\+Done@{forwarding\+\_\+send\+Done}}
\index{forwarding\+\_\+send\+Done@{forwarding\+\_\+send\+Done}!Forwarding@{Forwarding}}
\subsubsection[{\texorpdfstring{forwarding\+\_\+send\+Done(\+Open\+Queue\+Entry\+\_\+t $\ast$msg, owerror\+\_\+t error)}{forwarding_sendDone(OpenQueueEntry_t *msg, owerror_t error)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} forwarding\+\_\+send\+Done (
\begin{DoxyParamCaption}
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{msg, }
\item[{{\bf owerror\+\_\+t}}]{error}
\end{DoxyParamCaption}
)}\hypertarget{group___forwarding_gae2d3a3aeedf39da862539fae72235464}{}\label{group___forwarding_gae2d3a3aeedf39da862539fae72235464}


Indicates a packet has been sent. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em msg} & The packet just sent. \\
\hline
\mbox{\tt in}  & {\em error} & The outcome of sending it. \\
\hline
\end{DoxyParams}


Definition at line 177 of file forwarding.\+c.

