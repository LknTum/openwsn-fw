\hypertarget{openserial_8c}{}\section{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/drivers/common/openserial.c File Reference}
\label{openserial_8c}\index{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/drivers/common/openserial.\+c@{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/drivers/common/openserial.\+c}}
{\ttfamily \#include \char`\"{}opendefs.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openserial.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}I\+E\+E\+E802154\+E.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}neighbors.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sixtop.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}icmpv6echo.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}idmanager.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openqueue.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openbridge.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}leds.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}schedule.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}uart.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}opentimers.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openhdlc.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}icmpv6rpl.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{openserial_8c_a34e5c950b9c6a770aab913d39afbfb0c}{openserial\+\_\+print\+Info\+Error\+Critical} (char severity, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} calling\+\_\+component, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} error\+\_\+code, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg1, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg2)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_a8f04c727acc3b52b1de724ed70f01482}{openserial\+\_\+board\+\_\+reset\+\_\+cb} (\hyperlink{group___open_timers_gae5ca9e65d270cdfa4bc74008d96d69ab}{opentimer\+\_\+id\+\_\+t} id)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_afe73975991b2a02ab15b539047d76461}{openserial\+\_\+golden\+Image\+Commands} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_a997e80187cf7445fe563b20c44e6465e}{output\+Hdlc\+Open} ()
\begin{DoxyCompactList}\small\item\em Start an H\+D\+LC frame in the output buffer. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_ac2be7cae6115dbefd4e59aa401b52598}{output\+Hdlc\+Write} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} b)
\begin{DoxyCompactList}\small\item\em Add a byte to the outgoing H\+D\+LC frame being built. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_a76087089f664efce8c269f2018024c8f}{output\+Hdlc\+Close} ()
\begin{DoxyCompactList}\small\item\em Finalize the outgoing H\+D\+LC frame. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_a9cca3de35e3ca55fd1f44e0ea1a5d85e}{input\+Hdlc\+Open} ()
\begin{DoxyCompactList}\small\item\em Start an H\+D\+LC frame in the input buffer. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_a2420912700c3beff4f48fcebfc7f7d24}{input\+Hdlc\+Write} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} b)
\begin{DoxyCompactList}\small\item\em Add a byte to the incoming H\+D\+LC frame. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{openserial_8c_a01033cf5156dbfe8d513912d528841b9}{input\+Hdlc\+Close} ()
\begin{DoxyCompactList}\small\item\em Finalize the incoming H\+D\+LC frame. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_serial_ga3aa92123f96623345dbb33677c9f4bb4}{openserial\+\_\+init} ()
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___open_serial_gac04f412c3d52f0ffc77e12edb1a49981}{openserial\+\_\+print\+Status} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} status\+Element, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$buffer, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} length)
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___open_serial_ga773cc9fae5d0477d9eed107dce419c33}{openserial\+\_\+print\+Data} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$buffer, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} length)
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___open_serial_ga6e474f4ac39a88e72067f4d0d56fa06a}{openserial\+\_\+print\+Packet} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$buffer, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} length, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} channel)
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___open_serial_gadd292e5ac337122d8b696a589f5339ca}{openserial\+\_\+print\+Info} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} calling\+\_\+component, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} error\+\_\+code, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg1, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg2)
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___open_serial_ga48608da7a1bdd73ed0d4528580a6bdeb}{openserial\+\_\+print\+Error} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} calling\+\_\+component, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} error\+\_\+code, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg1, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg2)
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___open_serial_gad798b7b8d507d9cea07e7370dd1a04c1}{openserial\+\_\+print\+Critical} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} calling\+\_\+component, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} error\+\_\+code, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg1, \hyperlink{opendefs_8h_ab3600b91f14426ad1962f368745f44fc}{errorparameter\+\_\+t} arg2)
\item 
\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{group___open_serial_gac01eb6d59343d66884a8e938cca03b09}{openserial\+\_\+get\+Num\+Data\+Bytes} ()
\item 
\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{group___open_serial_gab42ae512b3e44f2f6acb84188dac30f7}{openserial\+\_\+get\+Input\+Buffer} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$buffer\+To\+Write, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} max\+Num\+Bytes)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_serial_gabcc1ef759aa48467dd33d8f172d453db}{openserial\+\_\+start\+Input} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_serial_gaf25875805325e15644a0cc1ddf2d1ad7}{openserial\+\_\+start\+Output} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_serial_ga3459b731e462b664947a4e3260c51512}{openserial\+\_\+stop} ()
\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group___open_serial_ga99f5ed8c81eec2120d38308b51129cec}{debug\+Print\+\_\+out\+Buffer\+Indexes} ()
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_serial_ga4ac33c65ec6383bfa7df3e7b57d0b60e}{isr\+\_\+openserial\+\_\+tx} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_serial_ga253b4f5bec2de8f4f03c1732154cfd65}{isr\+\_\+openserial\+\_\+rx} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_serial_gac066477656140104a2b4e9b23b5371e2}{openserial\+\_\+echo} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$buf, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} buf\+Len)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structopenserial__vars__t}{openserial\+\_\+vars\+\_\+t} \hyperlink{openserial_8c_ab120f49981a32c2bc46b53527ec618ab}{openserial\+\_\+vars}
\begin{DoxyCompactList}\small\item\em Definition of the \char`\"{}openserial\char`\"{} driver. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{openserial.\+c@{openserial.\+c}!input\+Hdlc\+Close@{input\+Hdlc\+Close}}
\index{input\+Hdlc\+Close@{input\+Hdlc\+Close}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{input\+Hdlc\+Close()}{inputHdlcClose()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf port\+\_\+\+I\+N\+L\+I\+NE} {\bf void} input\+Hdlc\+Close (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_a01033cf5156dbfe8d513912d528841b9}{}\label{openserial_8c_a01033cf5156dbfe8d513912d528841b9}


Finalize the incoming H\+D\+LC frame. 



Definition at line 756 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!input\+Hdlc\+Open@{input\+Hdlc\+Open}}
\index{input\+Hdlc\+Open@{input\+Hdlc\+Open}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{input\+Hdlc\+Open()}{inputHdlcOpen()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf port\+\_\+\+I\+N\+L\+I\+NE} {\bf void} input\+Hdlc\+Open (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_a9cca3de35e3ca55fd1f44e0ea1a5d85e}{}\label{openserial_8c_a9cca3de35e3ca55fd1f44e0ea1a5d85e}


Start an H\+D\+LC frame in the input buffer. 



Definition at line 726 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!input\+Hdlc\+Write@{input\+Hdlc\+Write}}
\index{input\+Hdlc\+Write@{input\+Hdlc\+Write}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{input\+Hdlc\+Write(uint8\+\_\+t b)}{inputHdlcWrite(uint8_t b)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf port\+\_\+\+I\+N\+L\+I\+NE} {\bf void} input\+Hdlc\+Write (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{b}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_a2420912700c3beff4f48fcebfc7f7d24}{}\label{openserial_8c_a2420912700c3beff4f48fcebfc7f7d24}


Add a byte to the incoming H\+D\+LC frame. 



Definition at line 736 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!openserial\+\_\+board\+\_\+reset\+\_\+cb@{openserial\+\_\+board\+\_\+reset\+\_\+cb}}
\index{openserial\+\_\+board\+\_\+reset\+\_\+cb@{openserial\+\_\+board\+\_\+reset\+\_\+cb}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{openserial\+\_\+board\+\_\+reset\+\_\+cb(opentimer\+\_\+id\+\_\+t id)}{openserial_board_reset_cb(opentimer_id_t id)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} openserial\+\_\+board\+\_\+reset\+\_\+cb (
\begin{DoxyParamCaption}
\item[{{\bf opentimer\+\_\+id\+\_\+t}}]{id}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_a8f04c727acc3b52b1de724ed70f01482}{}\label{openserial_8c_a8f04c727acc3b52b1de724ed70f01482}


Definition at line 270 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!openserial\+\_\+golden\+Image\+Commands@{openserial\+\_\+golden\+Image\+Commands}}
\index{openserial\+\_\+golden\+Image\+Commands@{openserial\+\_\+golden\+Image\+Commands}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{openserial\+\_\+golden\+Image\+Commands(void)}{openserial_goldenImageCommands(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} openserial\+\_\+golden\+Image\+Commands (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_afe73975991b2a02ab15b539047d76461}{}\label{openserial_8c_afe73975991b2a02ab15b539047d76461}


Definition at line 485 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!openserial\+\_\+print\+Info\+Error\+Critical@{openserial\+\_\+print\+Info\+Error\+Critical}}
\index{openserial\+\_\+print\+Info\+Error\+Critical@{openserial\+\_\+print\+Info\+Error\+Critical}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{openserial\+\_\+print\+Info\+Error\+Critical(char severity, uint8\+\_\+t calling\+\_\+component, uint8\+\_\+t error\+\_\+code, errorparameter\+\_\+t arg1, errorparameter\+\_\+t arg2)}{openserial_printInfoErrorCritical(char severity, uint8_t calling_component, uint8_t error_code, errorparameter_t arg1, errorparameter_t arg2)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf owerror\+\_\+t} openserial\+\_\+print\+Info\+Error\+Critical (
\begin{DoxyParamCaption}
\item[{char}]{severity, }
\item[{{\bf uint8\+\_\+t}}]{calling\+\_\+component, }
\item[{{\bf uint8\+\_\+t}}]{error\+\_\+code, }
\item[{{\bf errorparameter\+\_\+t}}]{arg1, }
\item[{{\bf errorparameter\+\_\+t}}]{arg2}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_a34e5c950b9c6a770aab913d39afbfb0c}{}\label{openserial_8c_a34e5c950b9c6a770aab913d39afbfb0c}


Definition at line 114 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!output\+Hdlc\+Close@{output\+Hdlc\+Close}}
\index{output\+Hdlc\+Close@{output\+Hdlc\+Close}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{output\+Hdlc\+Close()}{outputHdlcClose()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf port\+\_\+\+I\+N\+L\+I\+NE} {\bf void} output\+Hdlc\+Close (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_a76087089f664efce8c269f2018024c8f}{}\label{openserial_8c_a76087089f664efce8c269f2018024c8f}


Finalize the outgoing H\+D\+LC frame. 



Definition at line 707 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!output\+Hdlc\+Open@{output\+Hdlc\+Open}}
\index{output\+Hdlc\+Open@{output\+Hdlc\+Open}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{output\+Hdlc\+Open()}{outputHdlcOpen()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf port\+\_\+\+I\+N\+L\+I\+NE} {\bf void} output\+Hdlc\+Open (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_a997e80187cf7445fe563b20c44e6465e}{}\label{openserial_8c_a997e80187cf7445fe563b20c44e6465e}


Start an H\+D\+LC frame in the output buffer. 



Definition at line 681 of file openserial.\+c.

\index{openserial.\+c@{openserial.\+c}!output\+Hdlc\+Write@{output\+Hdlc\+Write}}
\index{output\+Hdlc\+Write@{output\+Hdlc\+Write}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{output\+Hdlc\+Write(uint8\+\_\+t b)}{outputHdlcWrite(uint8_t b)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf port\+\_\+\+I\+N\+L\+I\+NE} {\bf void} output\+Hdlc\+Write (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{b}
\end{DoxyParamCaption}
)}\hypertarget{openserial_8c_ac2be7cae6115dbefd4e59aa401b52598}{}\label{openserial_8c_ac2be7cae6115dbefd4e59aa401b52598}


Add a byte to the outgoing H\+D\+LC frame being built. 



Definition at line 691 of file openserial.\+c.



\subsection{Variable Documentation}
\index{openserial.\+c@{openserial.\+c}!openserial\+\_\+vars@{openserial\+\_\+vars}}
\index{openserial\+\_\+vars@{openserial\+\_\+vars}!openserial.\+c@{openserial.\+c}}
\subsubsection[{\texorpdfstring{openserial\+\_\+vars}{openserial_vars}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf openserial\+\_\+vars\+\_\+t} openserial\+\_\+vars}\hypertarget{openserial_8c_ab120f49981a32c2bc46b53527ec618ab}{}\label{openserial_8c_ab120f49981a32c2bc46b53527ec618ab}


Definition of the \char`\"{}openserial\char`\"{} driver. 

\begin{DoxyAuthor}{Author}
Fabien Chraim \href{mailto:chraim@eecs.berkeley.edu}{\tt chraim@eecs.\+berkeley.\+edu}, March 2012. 
\end{DoxyAuthor}


Definition at line 26 of file openserial.\+c.

