\hypertarget{boards_2derfmega_2radio_8c}{}\section{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/derfmega/radio.c File Reference}
\label{boards_2derfmega_2radio_8c}\index{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/derfmega/radio.\+c@{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/derfmega/radio.\+c}}
{\ttfamily \#include $<$avr/io.\+h$>$}\\*
{\ttfamily \#include \char`\"{}stdint.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}string.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}board.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}radio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}radiotimer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}debugpins.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}leds.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structradio__vars__t}{radio\+\_\+vars\+\_\+t}
\begin{DoxyCompactList}\small\item\em derfmega definition of the \char`\"{}radio\char`\"{} bsp module. Adapted from the A\+T86\+R\+F231 code since its the same register layout and all \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{boards_2derfmega_2radio_8c_acd772a96fd0908be7757e14f69259baf}{radio\+\_\+internal\+Write\+Reg}(R,  V)~R = V
\item 
\#define \hyperlink{boards_2derfmega_2radio_8c_ad5d605471888f945fa3be3f14adbb2f8}{radio\+\_\+internal\+Read\+Reg}(R)~(R)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{boards_2derfmega_2radio_8c_a4f876618f35a02da3b1fae19b12a4f82}{radio\+\_\+internal\+Write\+Tx\+Fifo} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$buf\+To\+Write, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} len\+To\+Write)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{boards_2derfmega_2radio_8c_a897f84467bdd0e6c19a6418848075510}{radio\+\_\+internal\+Read\+Rx\+Fifo} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$p\+Buf\+Read, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$p\+Len\+Read, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} max\+Buf\+Len, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$p\+Lqi)
\item 
\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{boards_2derfmega_2radio_8c_a9e039da32b1a3aed6ebc066a8eff913d}{radio\+\_\+rx\+\_\+start\+\_\+isr} ()
\begin{DoxyCompactList}\small\item\em board setup file for derfmega \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{boards_2derfmega_2radio_8c_a99cd6de8723ed3f26ce1fbea2f0e793a}{radio\+\_\+trx\+\_\+end\+\_\+isr} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gacfb21351bb3f0146635745bfacfe26a8}{radio\+\_\+init} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gaac2272f2a27534c5223d20f7eb4dbb26}{radio\+\_\+set\+Overflow\+Cb} (\hyperlink{group__radiotimer_ga62b602325e65023c91b784f20cd2d6bc}{radiotimer\+\_\+compare\+\_\+cbt} cb)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga49e8fc5745ce8569b6d2616883579062}{radio\+\_\+set\+Compare\+Cb} (\hyperlink{group__radiotimer_ga62b602325e65023c91b784f20cd2d6bc}{radiotimer\+\_\+compare\+\_\+cbt} cb)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga7efe6846c7583e300a67ef3a336c187c}{radio\+\_\+set\+Start\+Frame\+Cb} (\hyperlink{group__radiotimer_gac7da641d0774aa21bfabefd560e42acf}{radiotimer\+\_\+capture\+\_\+cbt} cb)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gabb885551de090c751381377762ae3c7c}{radio\+\_\+set\+End\+Frame\+Cb} (\hyperlink{group__radiotimer_gac7da641d0774aa21bfabefd560e42acf}{radiotimer\+\_\+capture\+\_\+cbt} cb)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gaf181029cf06b94f0f4ceaafec1c3f209}{radio\+\_\+reset} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga03e630aa7be3394bc7e0607dc85d50c8}{radio\+\_\+start\+Timer} (\hyperlink{z1_2board__info_8h_abe66b9c1c60db84f2a99f2b827275f24}{P\+O\+R\+T\+\_\+\+T\+I\+M\+E\+R\+\_\+\+W\+I\+D\+TH} period)
\item 
\hyperlink{z1_2board__info_8h_abe66b9c1c60db84f2a99f2b827275f24}{P\+O\+R\+T\+\_\+\+T\+I\+M\+E\+R\+\_\+\+W\+I\+D\+TH} \hyperlink{group__radio_ga9d6377834514a8ebf0b5987bb15daa2e}{radio\+\_\+get\+Timer\+Value} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gaef86051d9ade0d9bd75070237447f83c}{radio\+\_\+set\+Timer\+Period} (\hyperlink{z1_2board__info_8h_abe66b9c1c60db84f2a99f2b827275f24}{P\+O\+R\+T\+\_\+\+T\+I\+M\+E\+R\+\_\+\+W\+I\+D\+TH} period)
\item 
\hyperlink{z1_2board__info_8h_abe66b9c1c60db84f2a99f2b827275f24}{P\+O\+R\+T\+\_\+\+T\+I\+M\+E\+R\+\_\+\+W\+I\+D\+TH} \hyperlink{group__radio_ga7845450951762209c4879ad10bf160e6}{radio\+\_\+get\+Timer\+Period} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gaa062a57421da7b960a2613e4f65d3a11}{radio\+\_\+set\+Frequency} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} frequency)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gac01e153ff02faec0d39efa095d6e5837}{radio\+\_\+rf\+On} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_gaebe8cf9401340cd8bfaabfb8e465a0e9}{radio\+\_\+rf\+Off} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga9adb1e30e5a3aaed77829b231e54700e}{radio\+\_\+load\+Packet} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$packet, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} len)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga23b8b3278db30bc9cec95510b584b3c7}{radio\+\_\+tx\+Enable} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga913f5f6cecb9bdde24278b4692850888}{radio\+\_\+tx\+Now} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga61f398fe7a5d131ef2d30e2d09424705}{radio\+\_\+rx\+Enable} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga332cd3358e1d2598d42716d702684473}{radio\+\_\+rx\+Now} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__radio_ga1ba47d80eee0a4a3b6d23cfde6b94c9e}{radio\+\_\+get\+Received\+Frame} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$p\+Buf\+Read, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$p\+Len\+Read, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} max\+Buf\+Len, \hyperlink{_p_e___types_8h_aef44329758059c91c76d334e8fc09700}{int8\+\_\+t} $\ast$p\+Rssi, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$p\+Lqi, \hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} $\ast$p\+Crc)
\item 
\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{group__radio_ga42deb4291adeb8f9d6607133422f6023}{radio\+\_\+isr} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structradio__vars__t}{radio\+\_\+vars\+\_\+t} \hyperlink{boards_2derfmega_2radio_8c_a9c243c87287c9b1043c251aae61fd656}{radio\+\_\+vars}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}!radio\+\_\+internal\+Read\+Reg@{radio\+\_\+internal\+Read\+Reg}}
\index{radio\+\_\+internal\+Read\+Reg@{radio\+\_\+internal\+Read\+Reg}!boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}}
\subsubsection[{\texorpdfstring{radio\+\_\+internal\+Read\+Reg}{radio_internalReadReg}}]{\setlength{\rightskip}{0pt plus 5cm}\#define radio\+\_\+internal\+Read\+Reg(
\begin{DoxyParamCaption}
\item[{}]{R}
\end{DoxyParamCaption}
)~(R)}\hypertarget{boards_2derfmega_2radio_8c_ad5d605471888f945fa3be3f14adbb2f8}{}\label{boards_2derfmega_2radio_8c_ad5d605471888f945fa3be3f14adbb2f8}


Definition at line 31 of file radio.\+c.

\index{boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}!radio\+\_\+internal\+Write\+Reg@{radio\+\_\+internal\+Write\+Reg}}
\index{radio\+\_\+internal\+Write\+Reg@{radio\+\_\+internal\+Write\+Reg}!boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}}
\subsubsection[{\texorpdfstring{radio\+\_\+internal\+Write\+Reg}{radio_internalWriteReg}}]{\setlength{\rightskip}{0pt plus 5cm}\#define radio\+\_\+internal\+Write\+Reg(
\begin{DoxyParamCaption}
\item[{}]{R, }
\item[{}]{V}
\end{DoxyParamCaption}
)~R = V}\hypertarget{boards_2derfmega_2radio_8c_acd772a96fd0908be7757e14f69259baf}{}\label{boards_2derfmega_2radio_8c_acd772a96fd0908be7757e14f69259baf}


Definition at line 30 of file radio.\+c.



\subsection{Function Documentation}
\index{boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}!radio\+\_\+internal\+Read\+Rx\+Fifo@{radio\+\_\+internal\+Read\+Rx\+Fifo}}
\index{radio\+\_\+internal\+Read\+Rx\+Fifo@{radio\+\_\+internal\+Read\+Rx\+Fifo}!boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}}
\subsubsection[{\texorpdfstring{radio\+\_\+internal\+Read\+Rx\+Fifo(uint8\+\_\+t $\ast$p\+Buf\+Read, uint8\+\_\+t $\ast$p\+Len\+Read, uint8\+\_\+t max\+Buf\+Len, uint8\+\_\+t $\ast$p\+Lqi)}{radio_internalReadRxFifo(uint8_t *pBufRead, uint8_t *pLenRead, uint8_t maxBufLen, uint8_t *pLqi)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} radio\+\_\+internal\+Read\+Rx\+Fifo (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$}]{p\+Buf\+Read, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{p\+Len\+Read, }
\item[{{\bf uint8\+\_\+t}}]{max\+Buf\+Len, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{p\+Lqi}
\end{DoxyParamCaption}
)}\hypertarget{boards_2derfmega_2radio_8c_a897f84467bdd0e6c19a6418848075510}{}\label{boards_2derfmega_2radio_8c_a897f84467bdd0e6c19a6418848075510}


Definition at line 253 of file radio.\+c.

\index{boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}!radio\+\_\+internal\+Write\+Tx\+Fifo@{radio\+\_\+internal\+Write\+Tx\+Fifo}}
\index{radio\+\_\+internal\+Write\+Tx\+Fifo@{radio\+\_\+internal\+Write\+Tx\+Fifo}!boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}}
\subsubsection[{\texorpdfstring{radio\+\_\+internal\+Write\+Tx\+Fifo(uint8\+\_\+t $\ast$buf\+To\+Write, uint8\+\_\+t len\+To\+Write)}{radio_internalWriteTxFifo(uint8_t *bufToWrite, uint8_t lenToWrite)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} radio\+\_\+internal\+Write\+Tx\+Fifo (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$}]{buf\+To\+Write, }
\item[{{\bf uint8\+\_\+t}}]{len\+To\+Write}
\end{DoxyParamCaption}
)}\hypertarget{boards_2derfmega_2radio_8c_a4f876618f35a02da3b1fae19b12a4f82}{}\label{boards_2derfmega_2radio_8c_a4f876618f35a02da3b1fae19b12a4f82}
for testing purposes, remove if not needed anymore 

Definition at line 246 of file radio.\+c.

\index{boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}!radio\+\_\+rx\+\_\+start\+\_\+isr@{radio\+\_\+rx\+\_\+start\+\_\+isr}}
\index{radio\+\_\+rx\+\_\+start\+\_\+isr@{radio\+\_\+rx\+\_\+start\+\_\+isr}!boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}}
\subsubsection[{\texorpdfstring{radio\+\_\+rx\+\_\+start\+\_\+isr()}{radio_rx_start_isr()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\+\_\+t} radio\+\_\+rx\+\_\+start\+\_\+isr (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{boards_2derfmega_2radio_8c_a9e039da32b1a3aed6ebc066a8eff913d}{}\label{boards_2derfmega_2radio_8c_a9e039da32b1a3aed6ebc066a8eff913d}


board setup file for derfmega 

\begin{DoxyAuthor}{Author}
Kevin Weekly \href{mailto:kweekly@eecs.berkeley.edu}{\tt kweekly@eecs.\+berkeley.\+edu}, June 2012. 
\end{DoxyAuthor}


Definition at line 273 of file radio.\+c.

\index{boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}!radio\+\_\+trx\+\_\+end\+\_\+isr@{radio\+\_\+trx\+\_\+end\+\_\+isr}}
\index{radio\+\_\+trx\+\_\+end\+\_\+isr@{radio\+\_\+trx\+\_\+end\+\_\+isr}!boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}}
\subsubsection[{\texorpdfstring{radio\+\_\+trx\+\_\+end\+\_\+isr()}{radio_trx_end_isr()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\+\_\+t} radio\+\_\+trx\+\_\+end\+\_\+isr (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{boards_2derfmega_2radio_8c_a99cd6de8723ed3f26ce1fbea2f0e793a}{}\label{boards_2derfmega_2radio_8c_a99cd6de8723ed3f26ce1fbea2f0e793a}


Definition at line 287 of file radio.\+c.



\subsection{Variable Documentation}
\index{boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}!radio\+\_\+vars@{radio\+\_\+vars}}
\index{radio\+\_\+vars@{radio\+\_\+vars}!boards/derfmega/radio.\+c@{boards/derfmega/radio.\+c}}
\subsubsection[{\texorpdfstring{radio\+\_\+vars}{radio_vars}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf radio\+\_\+vars\+\_\+t} radio\+\_\+vars}\hypertarget{boards_2derfmega_2radio_8c_a9c243c87287c9b1043c251aae61fd656}{}\label{boards_2derfmega_2radio_8c_a9c243c87287c9b1043c251aae61fd656}


Definition at line 26 of file radio.\+c.

