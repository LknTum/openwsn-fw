\hypertarget{k20_2bsp_2sctimer_8c}{}\section{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/k20/bsp/sctimer.c File Reference}
\label{k20_2bsp_2sctimer_8c}\index{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/k20/bsp/sctimer.\+c@{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/k20/bsp/sctimer.\+c}}
{\ttfamily \#include \char`\"{}common.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sctimer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}arm\+\_\+cm4.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{k20_2bsp_2sctimer_8c_ad4c054b54b86e2e76aa67e84801cfdc9}{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+I\+R\+C\+LK}~0
\begin{DoxyCompactList}\small\item\em A timer module with only a single compare value. Can be used to replace the \char`\"{}bsp\+\_\+timer\char`\"{} and \char`\"{}radiotimer\char`\"{} modules with the help of abstimer. \end{DoxyCompactList}\item 
\#define \hyperlink{k20_2bsp_2sctimer_8c_af79ae96b0a1f8a9e9da1c3d5f60ef6ee}{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+L\+P\+O\+C\+LK}~1
\item 
\#define \hyperlink{k20_2bsp_2sctimer_8c_aa2d482ea6762cfa0811c19c1710458db}{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+E\+R\+C\+L\+K32}~2
\item 
\#define \hyperlink{k20_2bsp_2sctimer_8c_a7945fbe8b0d44f37a47d2a61978dd34c}{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+O\+S\+C\+E\+R\+C\+LK}~3
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{k20_2bsp_2sctimer_8c_adf9173a36cd117a72e3e627035c6058f}{lptmr\+\_\+isr} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{k20_2bsp_2sctimer_8c_a77791e19d4c7ca4dec06db3536b684f0}{sctimer\+\_\+clear\+\_\+registers} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__sctimer_ga69345c421ed09ef37ffb53cf392f9c65}{sctimer\+\_\+init} ()
\begin{DoxyCompactList}\small\item\em A timer module with only a single compare value. Can be used to replace the \char`\"{}bsp\+\_\+timer\char`\"{} and \char`\"{}radiotimer\char`\"{} modules with the help of abstimer. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{k20_2bsp_2sctimer_8c_a054db7016ecd0ae3f61f6704a9b0274d}{sctimer\+\_\+schedule} (\hyperlink{_p_e___types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\+\_\+t} val)
\item 
\hyperlink{_p_e___types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\+\_\+t} \hyperlink{group__sctimer_ga5d432097f53b624c10030ce92d8dc0f8}{sctimer\+\_\+get\+Value} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__sctimer_gac5a05074749b0e138c23e0342bad5690}{sctimer\+\_\+set\+Cb} (\hyperlink{group__sctimer_ga0a0d5fd87809e69b643e507977c2f8e4}{sctimer\+\_\+cbt} cb)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__sctimer_ga778aeade98c97698e7f082fb10feef20}{sctimer\+\_\+clear\+I\+SR} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__sctimer_ga0abde5f7bfc9a70d93c7e4bce5778643}{sctimer\+\_\+reset} ()
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group__sctimer_ga93457ee3857a5a997f9aa856846191ef}{sctimer\+\_\+stop} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__sctimer_ga0a0d5fd87809e69b643e507977c2f8e4}{sctimer\+\_\+cbt} \hyperlink{k20_2bsp_2sctimer_8c_a5771d3f574543a9990943a0fcb713929}{callback}
\item 
\hyperlink{_p_e___types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\+\_\+t} \hyperlink{k20_2bsp_2sctimer_8c_a5dac00c8b6a1766381f08c078eb8aa70}{unexpected\+\_\+isr}
\item 
volatile \hyperlink{_p_e___types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\+\_\+t} \hyperlink{k20_2bsp_2sctimer_8c_a6cfe06b43d43002c69b088721cf76216}{lastval} =0
\item 
volatile \hyperlink{_p_e___types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\+\_\+t} \hyperlink{k20_2bsp_2sctimer_8c_a3eecb299534fae923167f3ff8c835c63}{currval} =0
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+E\+R\+C\+L\+K32@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+E\+R\+C\+L\+K32}}
\index{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+E\+R\+C\+L\+K32@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+E\+R\+C\+L\+K32}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+E\+R\+C\+L\+K32}{LPTMR_USE_ERCLK32}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+E\+R\+C\+L\+K32~2}\hypertarget{k20_2bsp_2sctimer_8c_aa2d482ea6762cfa0811c19c1710458db}{}\label{k20_2bsp_2sctimer_8c_aa2d482ea6762cfa0811c19c1710458db}


Definition at line 15 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+I\+R\+C\+LK@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+I\+R\+C\+LK}}
\index{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+I\+R\+C\+LK@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+I\+R\+C\+LK}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+I\+R\+C\+LK}{LPTMR_USE_IRCLK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+I\+R\+C\+LK~0}\hypertarget{k20_2bsp_2sctimer_8c_ad4c054b54b86e2e76aa67e84801cfdc9}{}\label{k20_2bsp_2sctimer_8c_ad4c054b54b86e2e76aa67e84801cfdc9}


A timer module with only a single compare value. Can be used to replace the \char`\"{}bsp\+\_\+timer\char`\"{} and \char`\"{}radiotimer\char`\"{} modules with the help of abstimer. 

\begin{DoxyAuthor}{Author}
Xavi Vilajosana \href{mailto:xvilajosana@eecs.berkeley.edu}{\tt xvilajosana@eecs.\+berkeley.\+edu}, May 2012. 
\end{DoxyAuthor}


Definition at line 13 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+L\+P\+O\+C\+LK@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+L\+P\+O\+C\+LK}}
\index{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+L\+P\+O\+C\+LK@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+L\+P\+O\+C\+LK}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+L\+P\+O\+C\+LK}{LPTMR_USE_LPOCLK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+L\+P\+O\+C\+LK~1}\hypertarget{k20_2bsp_2sctimer_8c_af79ae96b0a1f8a9e9da1c3d5f60ef6ee}{}\label{k20_2bsp_2sctimer_8c_af79ae96b0a1f8a9e9da1c3d5f60ef6ee}


Definition at line 14 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+O\+S\+C\+E\+R\+C\+LK@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+O\+S\+C\+E\+R\+C\+LK}}
\index{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+O\+S\+C\+E\+R\+C\+LK@{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+O\+S\+C\+E\+R\+C\+LK}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+O\+S\+C\+E\+R\+C\+LK}{LPTMR_USE_OSCERCLK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+P\+T\+M\+R\+\_\+\+U\+S\+E\+\_\+\+O\+S\+C\+E\+R\+C\+LK~3}\hypertarget{k20_2bsp_2sctimer_8c_a7945fbe8b0d44f37a47d2a61978dd34c}{}\label{k20_2bsp_2sctimer_8c_a7945fbe8b0d44f37a47d2a61978dd34c}


Definition at line 16 of file sctimer.\+c.



\subsection{Function Documentation}
\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!lptmr\+\_\+isr@{lptmr\+\_\+isr}}
\index{lptmr\+\_\+isr@{lptmr\+\_\+isr}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{lptmr\+\_\+isr(void)}{lptmr_isr(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} lptmr\+\_\+isr (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{k20_2bsp_2sctimer_8c_adf9173a36cd117a72e3e627035c6058f}{}\label{k20_2bsp_2sctimer_8c_adf9173a36cd117a72e3e627035c6058f}


Definition at line 120 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!sctimer\+\_\+clear\+\_\+registers@{sctimer\+\_\+clear\+\_\+registers}}
\index{sctimer\+\_\+clear\+\_\+registers@{sctimer\+\_\+clear\+\_\+registers}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{sctimer\+\_\+clear\+\_\+registers()}{sctimer_clear_registers()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sctimer\+\_\+clear\+\_\+registers (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{k20_2bsp_2sctimer_8c_a77791e19d4c7ca4dec06db3536b684f0}{}\label{k20_2bsp_2sctimer_8c_a77791e19d4c7ca4dec06db3536b684f0}


Definition at line 157 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!sctimer\+\_\+schedule@{sctimer\+\_\+schedule}}
\index{sctimer\+\_\+schedule@{sctimer\+\_\+schedule}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{sctimer\+\_\+schedule(uint16\+\_\+t val)}{sctimer_schedule(uint16_t val)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sctimer\+\_\+schedule (
\begin{DoxyParamCaption}
\item[{{\bf uint16\+\_\+t}}]{val}
\end{DoxyParamCaption}
)}\hypertarget{k20_2bsp_2sctimer_8c_a054db7016ecd0ae3f61f6704a9b0274d}{}\label{k20_2bsp_2sctimer_8c_a054db7016ecd0ae3f61f6704a9b0274d}
When the L\+P\+T\+MR is enabled and the C\+NR equals the value in the C\+MR and increments, T\+CF is set and the hardware trigger asserts until the next time the C\+NR increments. If the C\+MR is 0, the hardware trigger will remain asserted until the L\+P\+T\+MR is disabled. If the L\+P\+T\+MR is enabled, the C\+MR must be altered only when T\+CF is set. 

Definition at line 73 of file sctimer.\+c.



\subsection{Variable Documentation}
\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!callback@{callback}}
\index{callback@{callback}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{callback}{callback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sctimer\+\_\+cbt} callback}\hypertarget{k20_2bsp_2sctimer_8c_a5771d3f574543a9990943a0fcb713929}{}\label{k20_2bsp_2sctimer_8c_a5771d3f574543a9990943a0fcb713929}


Definition at line 19 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!currval@{currval}}
\index{currval@{currval}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{currval}{currval}}]{\setlength{\rightskip}{0pt plus 5cm}volatile {\bf uint16\+\_\+t} currval =0}\hypertarget{k20_2bsp_2sctimer_8c_a3eecb299534fae923167f3ff8c835c63}{}\label{k20_2bsp_2sctimer_8c_a3eecb299534fae923167f3ff8c835c63}


Definition at line 22 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!lastval@{lastval}}
\index{lastval@{lastval}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{lastval}{lastval}}]{\setlength{\rightskip}{0pt plus 5cm}volatile {\bf uint16\+\_\+t} lastval =0}\hypertarget{k20_2bsp_2sctimer_8c_a6cfe06b43d43002c69b088721cf76216}{}\label{k20_2bsp_2sctimer_8c_a6cfe06b43d43002c69b088721cf76216}


Definition at line 21 of file sctimer.\+c.

\index{k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}!unexpected\+\_\+isr@{unexpected\+\_\+isr}}
\index{unexpected\+\_\+isr@{unexpected\+\_\+isr}!k20/bsp/sctimer.\+c@{k20/bsp/sctimer.\+c}}
\subsubsection[{\texorpdfstring{unexpected\+\_\+isr}{unexpected_isr}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint16\+\_\+t} unexpected\+\_\+isr}\hypertarget{k20_2bsp_2sctimer_8c_a5dac00c8b6a1766381f08c078eb8aa70}{}\label{k20_2bsp_2sctimer_8c_a5dac00c8b6a1766381f08c078eb8aa70}


Definition at line 20 of file sctimer.\+c.

