\hypertarget{startup__gcc_8c}{}\section{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/\+Open\+Mote-\/\+C\+C2538/startup\+\_\+gcc.c File Reference}
\label{startup__gcc_8c}\index{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/\+Open\+Mote-\/\+C\+C2538/startup\+\_\+gcc.\+c@{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/bsp/boards/\+Open\+Mote-\/\+C\+C2538/startup\+\_\+gcc.\+c}}


Startup code for C\+C2538 for use with G\+CC.  


{\ttfamily \#include $<$headers/hw\+\_\+nvic.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structlock_page_c_c_a__t}{lock\+Page\+C\+C\+A\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{startup__gcc_8c_af1d930a7d0095b0aecd978f97f1334bf}{F\+L\+A\+S\+H\+\_\+\+S\+T\+A\+R\+T\+\_\+\+A\+D\+DR}~0x00200000
\item 
\#define \hyperlink{startup__gcc_8c_a0439f010b6a0931eb01d31014df642db}{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+E\+N\+A\+B\+LE}~0x\+F6\+F\+F\+F\+F\+FF
\item 
\#define \hyperlink{startup__gcc_8c_a0748d3ed93d942cace4f4be13804e9a6}{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+D\+I\+S\+A\+B\+LE}~0x\+E\+F\+F\+F\+F\+F\+FF
\item 
\#define \hyperlink{startup__gcc_8c_a1adf4bbf8d1cf5137ab35c893b6eddf9}{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+E\+M\+U\+O\+VR}~0x400\+D20\+B4
\item 
\#define \hyperlink{startup__gcc_8c_a98d81285c35df70165104e2a66aed95f}{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+I\+\_\+\+M\+AP}~0x400\+D2098
\item 
\#define \hyperlink{startup__gcc_8c_a142cc87135eab899e1426455caeaec49}{H\+W\+R\+EG}(x)                                                                                                                        ~($\ast$((volatile unsigned long $\ast$)(x)))
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{startup__gcc_8c_a840291bc02cba5474a4cb46a9b9566fe}{main} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{startup__gcc_8c_a516ff8924be921fa3a1bb7754b1f5734}{Reset\+I\+SR} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{startup__gcc_8c_ad1d98813d5003e7dba6f1108621cd901}{Nmi\+SR} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{startup__gcc_8c_adb5f132925e934324bd5b5c5030fa54e}{Fault\+I\+SR} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{startup__gcc_8c_a6166a9c25468acb44ad84dd40e6734b9}{Int\+Default\+Handler} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{startup__gcc_8c_a2b5f2413a7f761c98b3f5b1917caa060}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((section(\char`\"{}.flashcca\char`\"{}), used)) const
\item 
\hyperlink{startup__gcc_8c_ae6a458eb1f201b9d5fca62211f6d6182}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((section(\char`\"{}.vectors\char`\"{}), used))
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_p_e___types_8h_a33594304e786b158f3fb30289278f5af}{uint32\+\_\+t} \hyperlink{startup__gcc_8c_abba93927cdaa2d32967cfc724f47cf8f}{\+\_\+etext}
\item 
\hyperlink{_p_e___types_8h_a33594304e786b158f3fb30289278f5af}{uint32\+\_\+t} \hyperlink{startup__gcc_8c_a45c84a718a302530a9e80cce14821e33}{\+\_\+data}
\item 
\hyperlink{_p_e___types_8h_a33594304e786b158f3fb30289278f5af}{uint32\+\_\+t} \hyperlink{startup__gcc_8c_a1fc4a71c31f5b048d3b1b7b2d10684d1}{\+\_\+edata}
\item 
\hyperlink{_p_e___types_8h_a33594304e786b158f3fb30289278f5af}{uint32\+\_\+t} \hyperlink{startup__gcc_8c_af850648ae5530d03c13591aa90741077}{\+\_\+bss}
\item 
\hyperlink{_p_e___types_8h_a33594304e786b158f3fb30289278f5af}{uint32\+\_\+t} \hyperlink{startup__gcc_8c_a580f44faf8ff886796f2114d0de12c77}{\+\_\+ebss}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Startup code for C\+C2538 for use with G\+CC. 

Revised \begin{DoxyParagraph}{Date}
2013-\/04-\/11 20\+:13\+:13 +0200 (Thu, 11 Apr 2013) 
\end{DoxyParagraph}
Revision \begin{DoxyParagraph}{Revision}
9714 
\end{DoxyParagraph}


\subsection{Macro Definition Documentation}
\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+D\+I\+S\+A\+B\+LE@{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+D\+I\+S\+A\+B\+LE}}
\index{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+D\+I\+S\+A\+B\+LE@{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+D\+I\+S\+A\+B\+LE}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+D\+I\+S\+A\+B\+LE}{BOOTLOADER_BACKDOOR_DISABLE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+D\+I\+S\+A\+B\+LE~0x\+E\+F\+F\+F\+F\+F\+FF}\hypertarget{startup__gcc_8c_a0748d3ed93d942cace4f4be13804e9a6}{}\label{startup__gcc_8c_a0748d3ed93d942cace4f4be13804e9a6}


Definition at line 45 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+E\+N\+A\+B\+LE@{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+E\+N\+A\+B\+LE}}
\index{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+E\+N\+A\+B\+LE@{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+E\+N\+A\+B\+LE}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+E\+N\+A\+B\+LE}{BOOTLOADER_BACKDOOR_ENABLE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+O\+O\+T\+L\+O\+A\+D\+E\+R\+\_\+\+B\+A\+C\+K\+D\+O\+O\+R\+\_\+\+E\+N\+A\+B\+LE~0x\+F6\+F\+F\+F\+F\+FF}\hypertarget{startup__gcc_8c_a0439f010b6a0931eb01d31014df642db}{}\label{startup__gcc_8c_a0439f010b6a0931eb01d31014df642db}


Definition at line 44 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!F\+L\+A\+S\+H\+\_\+\+S\+T\+A\+R\+T\+\_\+\+A\+D\+DR@{F\+L\+A\+S\+H\+\_\+\+S\+T\+A\+R\+T\+\_\+\+A\+D\+DR}}
\index{F\+L\+A\+S\+H\+\_\+\+S\+T\+A\+R\+T\+\_\+\+A\+D\+DR@{F\+L\+A\+S\+H\+\_\+\+S\+T\+A\+R\+T\+\_\+\+A\+D\+DR}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{F\+L\+A\+S\+H\+\_\+\+S\+T\+A\+R\+T\+\_\+\+A\+D\+DR}{FLASH_START_ADDR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+L\+A\+S\+H\+\_\+\+S\+T\+A\+R\+T\+\_\+\+A\+D\+DR~0x00200000}\hypertarget{startup__gcc_8c_af1d930a7d0095b0aecd978f97f1334bf}{}\label{startup__gcc_8c_af1d930a7d0095b0aecd978f97f1334bf}


Definition at line 43 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!H\+W\+R\+EG@{H\+W\+R\+EG}}
\index{H\+W\+R\+EG@{H\+W\+R\+EG}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{H\+W\+R\+EG}{HWREG}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\+W\+R\+EG(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~($\ast$((volatile unsigned long $\ast$)(x)))}\hypertarget{startup__gcc_8c_a142cc87135eab899e1426455caeaec49}{}\label{startup__gcc_8c_a142cc87135eab899e1426455caeaec49}


Definition at line 55 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+E\+M\+U\+O\+VR@{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+E\+M\+U\+O\+VR}}
\index{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+E\+M\+U\+O\+VR@{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+E\+M\+U\+O\+VR}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+E\+M\+U\+O\+VR}{SYS_CTRL_EMUOVR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+E\+M\+U\+O\+VR~0x400\+D20\+B4}\hypertarget{startup__gcc_8c_a1adf4bbf8d1cf5137ab35c893b6eddf9}{}\label{startup__gcc_8c_a1adf4bbf8d1cf5137ab35c893b6eddf9}


Definition at line 46 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+I\+\_\+\+M\+AP@{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+I\+\_\+\+M\+AP}}
\index{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+I\+\_\+\+M\+AP@{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+I\+\_\+\+M\+AP}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+I\+\_\+\+M\+AP}{SYS_CTRL_I_MAP}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+Y\+S\+\_\+\+C\+T\+R\+L\+\_\+\+I\+\_\+\+M\+AP~0x400\+D2098}\hypertarget{startup__gcc_8c_a98d81285c35df70165104e2a66aed95f}{}\label{startup__gcc_8c_a98d81285c35df70165104e2a66aed95f}


Definition at line 47 of file startup\+\_\+gcc.\+c.



\subsection{Function Documentation}
\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+((section("".\+flashcca""), used)) const}{__attribute__((section(".flashcca"), used)) const}}]{\setlength{\rightskip}{0pt plus 5cm}\+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(section(\char`\"{}.flashcca\char`\"{}), used)}]{}
\end{DoxyParamCaption}
) const}\hypertarget{startup__gcc_8c_a2b5f2413a7f761c98b3f5b1917caa060}{}\label{startup__gcc_8c_a2b5f2413a7f761c98b3f5b1917caa060}


Definition at line 88 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+((section("".\+vectors""), used))}{__attribute__((section(".vectors"), used))}}]{\setlength{\rightskip}{0pt plus 5cm}\+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(section(\char`\"{}.vectors\char`\"{}), used)}]{}
\end{DoxyParamCaption}
)}\hypertarget{startup__gcc_8c_ae6a458eb1f201b9d5fca62211f6d6182}{}\label{startup__gcc_8c_ae6a458eb1f201b9d5fca62211f6d6182}


Definition at line 96 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!Fault\+I\+SR@{Fault\+I\+SR}}
\index{Fault\+I\+SR@{Fault\+I\+SR}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{Fault\+I\+S\+R(void)}{FaultISR(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Fault\+I\+SR (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{startup__gcc_8c_adb5f132925e934324bd5b5c5030fa54e}{}\label{startup__gcc_8c_adb5f132925e934324bd5b5c5030fa54e}


Definition at line 293 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!Int\+Default\+Handler@{Int\+Default\+Handler}}
\index{Int\+Default\+Handler@{Int\+Default\+Handler}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{Int\+Default\+Handler(void)}{IntDefaultHandler(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Int\+Default\+Handler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{startup__gcc_8c_a6166a9c25468acb44ad84dd40e6734b9}{}\label{startup__gcc_8c_a6166a9c25468acb44ad84dd40e6734b9}


Definition at line 302 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!main@{main}}
\index{main@{main}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{main(void)}{main(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{startup__gcc_8c_a840291bc02cba5474a4cb46a9b9566fe}{}\label{startup__gcc_8c_a840291bc02cba5474a4cb46a9b9566fe}


This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board. 

\begin{DoxyNote}{Note}
The term \char`\"{}crystal\char`\"{} is usually written \char`\"{}\+X\+T\+A\+L\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a G\+I\+NA board, run it, you should see the 4 L\+E\+Ds blinking in sequence with a 500ms period.

The digital outputs are\+:
\begin{DoxyItemize}
\item P2.\+0\+: red L\+ED
\item P2.\+1\+: green L\+ED
\item P2.\+2\+: blue L\+ED
\item P2.\+3\+: red L\+ED
\end{DoxyItemize}

The \char`\"{}inputs\char`\"{} are\+:
\begin{DoxyItemize}
\item X\+IN, X\+O\+UT\+: 32768\+Hz crystal oscillator
\end{DoxyItemize}

The debug pins are\+:
\begin{DoxyItemize}
\item P5.\+6 output the A\+C\+LK (should be 32768\+Hz)
\item P1.\+1 toggles when interrupt T\+I\+M\+E\+R\+A0\+\_\+\+V\+E\+C\+T\+OR fires
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The digital U\+A\+RT interface is\+:
\begin{DoxyItemize}
\item P3.\+7\+: A1\+\_\+\+S\+O\+M\+I\+\_\+\+RX
\item P3.\+8\+: A1\+\_\+\+S\+O\+M\+I\+\_\+\+TX
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
The term \char`\"{}crystal\char`\"{} is usually written \char`\"{}\+X\+T\+A\+L\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a G\+I\+NA board, run it, you should see the 4 L\+E\+Ds blinking in sequence with a 500ms period.

The digital outputs are\+:
\begin{DoxyItemize}
\item P2.\+0\+: red L\+ED
\item P2.\+1\+: green L\+ED
\item P2.\+2\+: blue L\+ED
\item P2.\+3\+: red L\+ED
\end{DoxyItemize}

The \char`\"{}inputs\char`\"{} are\+:
\begin{DoxyItemize}
\item X\+IN, X\+O\+UT\+: 32768\+Hz crystal oscillator
\end{DoxyItemize}

The debug pins are\+:
\begin{DoxyItemize}
\item P5.\+6 output the A\+C\+LK (should be 32768\+Hz)
\item P1.\+1 toggles when interrupt T\+I\+M\+E\+R\+A0\+\_\+\+V\+E\+C\+T\+OR fires
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The digital U\+A\+RT interface is\+:
\begin{DoxyItemize}
\item P3.\+7\+: A1\+\_\+\+S\+O\+M\+I\+\_\+\+RX
\item P3.\+8\+: A1\+\_\+\+S\+O\+M\+I\+\_\+\+TX
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

Download the program to a TelosB board, run it, and when you press the U\+S\+ER button, the red L\+ED with toggle. Note that the R\+E\+S\+ET button is non programmable, and always resets the M\+S\+P430.

\begin{DoxyNote}{Note}
To \char`\"{}toggle\char`\"{} a pin means that, when it\textquotesingle{}s off, it turns on, and when it\textquotesingle{}s on, it turns off.
\end{DoxyNote}
The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: red L\+ED
\end{DoxyItemize}

The digital inputs are\+:
\begin{DoxyItemize}
\item P2.\+7\+: button
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

$<$T\+O\+DO, what to buy$>$

$<$T\+O\+DO, how to connect the TelosB to the buzzer$>$

$<$T\+O\+DO, how to build the binary$>$

$<$T\+O\+DO, what to expect when it runs$>$

\begin{DoxyAuthor}{Author}
$<$T\+O\+DO, name$>$ $<$T\+O\+DO, e-\/mail$>$, $<$\+T\+O\+D\+O date$>$=\char`\"{}\char`\"{}$>$
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

Download the program to a TelosB board, run it. It will output its clocks on the pins below. Note that these pins are connected to the L\+E\+Ds, so they will blink (so fast they will appear simply on to your slow eyes). Use a scope probe to see the clock signals and measure their frequency.

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: M\+C\+LK (red L\+ED or pad 48 on the back)
\item P5.\+5\+: S\+M\+C\+LK (green L\+ED or pad 49 on the back)
\item P5.\+6\+: A\+C\+LK (blue L\+ED)
\end{DoxyItemize}

We measure an D\+CO frequency of 4.\+8\+M\+Hz. Very low, indeed.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The digital S\+PI interface consists of\+:


\begin{DoxyItemize}
\item P3.\+2/\+S\+O\+M\+I0\+: \char`\"{}slave-\/out-\/master-\/in\char`\"{}, i.\+e. C\+C2420-\/$>$M\+S\+P430
\item P3.\+3/\+S\+CL\+: clock line
\item P4.\+2\+: chip-\/select (active-\/low) Extra lines\+:
\item P1.\+7\+: \char`\"{}slave-\/it-\/master-\/out\char`\"{}, i.\+e. M\+S\+P430-\/$>$C\+C2420
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}crystal\char`\"{} is usually written \char`\"{}\+X\+T\+A\+L\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a TelosB board, run it, you should see the 3 L\+E\+Ds blinking in sequence with a 500ms period.

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: red L\+ED
\item P5.\+5\+: green L\+ED
\item P5.\+6\+: blue L\+ED
\end{DoxyItemize}

The \char`\"{}inputs\char`\"{} are\+:
\begin{DoxyItemize}
\item X\+IN, X\+O\+UT\+: 32768\+Hz crystal oscillator
\end{DoxyItemize}

The debug pins are\+:
\begin{DoxyItemize}
\item P6.\+6 toggles when interrupt T\+I\+M\+E\+R\+A0\+\_\+\+V\+E\+C\+T\+OR fires
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}micro-\/controller\char`\"{} is usually written \char`\"{}u\+C\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a TelosB board, run it, you should see the red, then the green, then the blue L\+E\+Ds go on (all within less than a second). This is the sequence of events\+:
\begin{DoxyItemize}
\item enable and reset the radio ==$>$ red L\+ED on
\item configure S\+PI registers on M\+S\+P430
\item send a S\+N\+OP strobe to radio ==$>$ green L\+ED on
\item receive status byte from radio ==$>$ blue L\+ED on
\item go to sleep
\end{DoxyItemize}

The digital S\+PI interface consists of\+:
\begin{DoxyItemize}
\item P3.\+1/\+S\+I\+M\+O0\+: \char`\"{}slave-\/it-\/master-\/out\char`\"{}, i.\+e. M\+S\+P430-\/$>$C\+C2420
\item P3.\+2/\+S\+O\+M\+I0\+: \char`\"{}slave-\/out-\/master-\/in\char`\"{}, i.\+e. C\+C2420-\/$>$M\+S\+P430
\item P3.\+3/\+S\+CL\+: clock line
\item P4.\+2\+: chip-\/select (active-\/low) Extra lines\+:
\item P4.\+5\+: radio V\+R\+EG (active-\/high)
\item P4.\+6\+: radio reset line (active-\/low)
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The M\+S\+P430 chip speaks 2-\/wire U\+A\+RT, i.\+e. one two pins are used\+: one for sending bytes (U\+A\+R\+T1\+TX), one for receiving bytes (U\+A\+R\+T1\+RX). These pins are connected to an F\+T\+DI \char`\"{}\+U\+A\+R\+T-\/to-\/\+U\+S\+B\char`\"{} converted chip. When you plug the TelosB into your computer, the F\+T\+DI driver install a virtual C\+OM port. That is, when you read/write to that port, the bytes end up on the U\+A\+R\+T1\+R\+X/\+U\+A\+R\+T1\+TX pins.

Connect your TelosB board to your computer, download this application to your TelosB board and run it. On your computer, open a Pu\+T\+TY client on the virtual C\+OM port of your board, and type characters into it.

Each time you type a character, you should see\+:
\begin{DoxyItemize}
\item the small green L\+ED (RX) blinks. It\textquotesingle{}s mounted on the RX line, so \char`\"{}shows\char`\"{} you when a byte passes.
\item the character prints on your terminal, as it is sent back on the TX line.
\item the red L\+ED toggles
\item the smalll red L\+ED (TX) blinks. It\textquotesingle{}s mounted on the TX line, so \char`\"{}shows\char`\"{} you when a byte passes.
\end{DoxyItemize}

Uncomment the B\+A\+U\+D\+R\+A\+T\+E\+\_\+115200 line below to switch from 9600baud to 115200baud.

The digital U\+A\+RT interface is\+:
\begin{DoxyItemize}
\item P3.\+6\+: U\+A\+R\+T1\+TX
\item P3.\+7\+: U\+A\+R\+T1\+RX
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

Download the program to a W\+S\+N430v14 board, run it. It will configure the clock sources of the W\+S\+N430v14, and output its clocks on pins.

The following clock sources are used\+:
\begin{DoxyItemize}
\item the 8\+M\+Hz crystal on the W\+S\+N40v14 is connected to the X\+T2 clock source
\item the 32k\+Hz crystal on the W\+S\+N40v14 is connected to the L\+F\+X\+T1
\end{DoxyItemize}

From those two, the following clock signals are created\+:
\begin{DoxyItemize}
\item M\+C\+LK is set to X\+T2, i.\+e. 8\+M\+Hz
\item S\+M\+C\+LK is set to X\+T2/8, i.\+e. 1\+M\+Hz
\item A\+C\+LK is set to L\+F\+X\+T1, i.\+e. 32k\+Hz
\end{DoxyItemize}

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: M\+C\+LK (red L\+ED), expected period 125ns
\item P5.\+5\+: S\+M\+C\+LK (green L\+ED), expected period 1000ns
\item P5.\+6\+: A\+C\+LK (blue L\+ED), expected period 30517ns
\end{DoxyItemize}

Note that these pins are connected to the L\+E\+Ds, so they will blink (so fast they will appear simply on to your slow eyes). Use a scope os logic analyzer to see the clock signals and measure their frequency.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2014. The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}crystal\char`\"{} is usually written \char`\"{}\+X\+T\+A\+L\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a W\+S\+N430v14 board, run it, you should see the 3 L\+E\+Ds blinking in sequence with a 500ms period.

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: red L\+ED
\item P5.\+5\+: green L\+ED
\item P5.\+6\+: blue L\+ED
\end{DoxyItemize}

The \char`\"{}inputs\char`\"{} are\+:
\begin{DoxyItemize}
\item X\+IN, X\+O\+UT\+: 32768\+Hz crystal oscillator
\end{DoxyItemize}

The debug pins are\+:
\begin{DoxyItemize}
\item P2.\+1 toggles when interrupt T\+I\+M\+E\+R\+A0\+\_\+\+V\+E\+C\+T\+OR fires
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2014. The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}micro-\/controller\char`\"{} is usually written \char`\"{}u\+C\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a W\+S\+N430v14 board, run it, you should see the red, then the green, then the blue L\+E\+Ds go on (all within less than a second). This is the sequence of events\+:
\begin{DoxyItemize}
\item enable and reset the radio ==$>$ red L\+ED on
\item configure S\+PI registers on M\+S\+P430
\item send a S\+N\+OP strobe to radio ==$>$ green L\+ED on
\item receive status byte from radio ==$>$ blue L\+ED on
\item go to sleep
\end{DoxyItemize}

The digital S\+PI interface consists of\+:
\begin{DoxyItemize}
\item P5.\+1/\+S\+I\+M\+O1\+: \char`\"{}slave-\/it-\/master-\/out\char`\"{}, i.\+e. M\+S\+P430-\/$>$C\+C2420
\item P5.\+2/\+S\+O\+M\+I0\+: \char`\"{}slave-\/out-\/master-\/in\char`\"{}, i.\+e. C\+C2420-\/$>$M\+S\+P430
\item P5.\+3/\+U\+C\+L\+K1\+: clock line
\item P4.\+2\+: chip-\/select (active-\/low) Extra lines\+:
\item P3.\+0\+: radio V\+R\+EG (active-\/high)
\item P1.\+7\+: radio reset line (active-\/low)
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2014.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The M\+S\+P430 chip speaks 2-\/wire U\+A\+RT, i.\+e. two pins are used\+: one for sending bytes (U\+T\+X\+D0), one for receiving bytes (U\+R\+X\+D0). When you plug the W\+S\+N430 into your computer, it appears as a serial C\+OM port. That is, when you read/write to that port, the bytes end up on the U\+T\+X\+D0/\+U\+R\+X\+D0 pins.

Connect your W\+S\+N430v14 board to your computer, download this application to your W\+S\+N430v14 board and run it. On your computer, open a Pu\+T\+TY client on the C\+OM port of your board, and type characters into it.

Each time you type a character, you should see\+:
\begin{DoxyItemize}
\item the character prints on your terminal, as it is sent back on the TX line.
\item the red L\+ED toggles.
\end{DoxyItemize}

The digital U\+A\+RT interface is\+:
\begin{DoxyItemize}
\item P3.\+4\+: U\+T\+X\+D0
\item P3.\+5\+: U\+R\+X\+D0
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2012. The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyAuthor}{Author}
xavi vilajosana \href{mailto:xvilajosana@eecs.berkeley.edu}{\tt xvilajosana@eecs.\+berkeley.\+edu}, March 2012
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
The term \char`\"{}crystal\char`\"{} is usually written \char`\"{}\+X\+T\+A\+L\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a G\+I\+NA board, run it, you should see the 4 L\+E\+Ds blinking in sequence with a 500ms period.

The digital outputs are\+:
\begin{DoxyItemize}
\item P2.\+0\+: red L\+ED
\item P2.\+1\+: green L\+ED
\item P2.\+2\+: blue L\+ED
\item P2.\+3\+: red L\+ED
\end{DoxyItemize}

The \char`\"{}inputs\char`\"{} are\+:
\begin{DoxyItemize}
\item X\+IN, X\+O\+UT\+: 32768\+Hz crystal oscillator
\end{DoxyItemize}

The debug pins are\+:
\begin{DoxyItemize}
\item P5.\+6 output the A\+C\+LK (should be 32768\+Hz)
\item P1.\+1 toggles when interrupt T\+I\+M\+E\+R\+A0\+\_\+\+V\+E\+C\+T\+OR fires
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The digital U\+A\+RT interface is\+:
\begin{DoxyItemize}
\item P3.\+7\+: A1\+\_\+\+S\+O\+M\+I\+\_\+\+RX
\item P3.\+8\+: A1\+\_\+\+S\+O\+M\+I\+\_\+\+TX
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

Download the program to a TelosB board, run it, and when you press the U\+S\+ER button, the red L\+ED with toggle. Note that the R\+E\+S\+ET button is non programmable, and always resets the M\+S\+P430.

\begin{DoxyNote}{Note}
To \char`\"{}toggle\char`\"{} a pin means that, when it\textquotesingle{}s off, it turns on, and when it\textquotesingle{}s on, it turns off.
\end{DoxyNote}
The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: red L\+ED
\end{DoxyItemize}

The digital inputs are\+:
\begin{DoxyItemize}
\item P2.\+7\+: button
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

$<$T\+O\+DO, what to buy$>$

$<$T\+O\+DO, how to connect the TelosB to the buzzer$>$

$<$T\+O\+DO, how to build the binary$>$

$<$T\+O\+DO, what to expect when it runs$>$

\begin{DoxyAuthor}{Author}
$<$T\+O\+DO, name$>$ $<$T\+O\+DO, e-\/mail$>$, $<$\+T\+O\+D\+O date$>$=\char`\"{}\char`\"{}$>$
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

Download the program to a TelosB board, run it. It will output its clocks on the pins below. Note that these pins are connected to the L\+E\+Ds, so they will blink (so fast they will appear simply on to your slow eyes). Use a scope probe to see the clock signals and measure their frequency.

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: M\+C\+LK (red L\+ED or pad 48 on the back)
\item P5.\+5\+: S\+M\+C\+LK (green L\+ED or pad 49 on the back)
\item P5.\+6\+: A\+C\+LK (blue L\+ED)
\end{DoxyItemize}

We measure an D\+CO frequency of 4.\+8\+M\+Hz. Very low, indeed.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The digital S\+PI interface consists of\+:


\begin{DoxyItemize}
\item P3.\+2/\+S\+O\+M\+I0\+: \char`\"{}slave-\/out-\/master-\/in\char`\"{}, i.\+e. C\+C2420-\/$>$M\+S\+P430
\item P3.\+3/\+S\+CL\+: clock line
\item P4.\+2\+: chip-\/select (active-\/low) Extra lines\+:
\item P1.\+7\+: \char`\"{}slave-\/it-\/master-\/out\char`\"{}, i.\+e. M\+S\+P430-\/$>$C\+C2420
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}crystal\char`\"{} is usually written \char`\"{}\+X\+T\+A\+L\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a TelosB board, run it, you should see the 3 L\+E\+Ds blinking in sequence with a 500ms period.

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: red L\+ED
\item P5.\+5\+: green L\+ED
\item P5.\+6\+: blue L\+ED
\end{DoxyItemize}

The \char`\"{}inputs\char`\"{} are\+:
\begin{DoxyItemize}
\item X\+IN, X\+O\+UT\+: 32768\+Hz crystal oscillator
\end{DoxyItemize}

The debug pins are\+:
\begin{DoxyItemize}
\item P6.\+6 toggles when interrupt T\+I\+M\+E\+R\+A0\+\_\+\+V\+E\+C\+T\+OR fires
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}micro-\/controller\char`\"{} is usually written \char`\"{}u\+C\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a TelosB board, run it, you should see the red, then the green, then the blue L\+E\+Ds go on (all within less than a second). This is the sequence of events\+:
\begin{DoxyItemize}
\item enable and reset the radio ==$>$ red L\+ED on
\item configure S\+PI registers on M\+S\+P430
\item send a S\+N\+OP strobe to radio ==$>$ green L\+ED on
\item receive status byte from radio ==$>$ blue L\+ED on
\item go to sleep
\end{DoxyItemize}

The digital S\+PI interface consists of\+:
\begin{DoxyItemize}
\item P3.\+1/\+S\+I\+M\+O0\+: \char`\"{}slave-\/it-\/master-\/out\char`\"{}, i.\+e. M\+S\+P430-\/$>$C\+C2420
\item P3.\+2/\+S\+O\+M\+I0\+: \char`\"{}slave-\/out-\/master-\/in\char`\"{}, i.\+e. C\+C2420-\/$>$M\+S\+P430
\item P3.\+3/\+S\+CL\+: clock line
\item P4.\+2\+: chip-\/select (active-\/low) Extra lines\+:
\item P4.\+5\+: radio V\+R\+EG (active-\/high)
\item P4.\+6\+: radio reset line (active-\/low)
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The M\+S\+P430 chip speaks 2-\/wire U\+A\+RT, i.\+e. one two pins are used\+: one for sending bytes (U\+A\+R\+T1\+TX), one for receiving bytes (U\+A\+R\+T1\+RX). These pins are connected to an F\+T\+DI \char`\"{}\+U\+A\+R\+T-\/to-\/\+U\+S\+B\char`\"{} converted chip. When you plug the TelosB into your computer, the F\+T\+DI driver install a virtual C\+OM port. That is, when you read/write to that port, the bytes end up on the U\+A\+R\+T1\+R\+X/\+U\+A\+R\+T1\+TX pins.

Connect your TelosB board to your computer, download this application to your TelosB board and run it. On your computer, open a Pu\+T\+TY client on the virtual C\+OM port of your board, and type characters into it.

Each time you type a character, you should see\+:
\begin{DoxyItemize}
\item the small green L\+ED (RX) blinks. It\textquotesingle{}s mounted on the RX line, so \char`\"{}shows\char`\"{} you when a byte passes.
\item the character prints on your terminal, as it is sent back on the TX line.
\item the red L\+ED toggles
\item the smalll red L\+ED (TX) blinks. It\textquotesingle{}s mounted on the TX line, so \char`\"{}shows\char`\"{} you when a byte passes.
\end{DoxyItemize}

Uncomment the B\+A\+U\+D\+R\+A\+T\+E\+\_\+115200 line below to switch from 9600baud to 115200baud.

The digital U\+A\+RT interface is\+:
\begin{DoxyItemize}
\item P3.\+6\+: U\+A\+R\+T1\+TX
\item P3.\+7\+: U\+A\+R\+T1\+RX
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

Download the program to a W\+S\+N430v14 board, run it. It will configure the clock sources of the W\+S\+N430v14, and output its clocks on pins.

The following clock sources are used\+:
\begin{DoxyItemize}
\item the 8\+M\+Hz crystal on the W\+S\+N40v14 is connected to the X\+T2 clock source
\item the 32k\+Hz crystal on the W\+S\+N40v14 is connected to the L\+F\+X\+T1
\end{DoxyItemize}

From those two, the following clock signals are created\+:
\begin{DoxyItemize}
\item M\+C\+LK is set to X\+T2, i.\+e. 8\+M\+Hz
\item S\+M\+C\+LK is set to X\+T2/8, i.\+e. 1\+M\+Hz
\item A\+C\+LK is set to L\+F\+X\+T1, i.\+e. 32k\+Hz
\end{DoxyItemize}

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: M\+C\+LK (red L\+ED), expected period 125ns
\item P5.\+5\+: S\+M\+C\+LK (green L\+ED), expected period 1000ns
\item P5.\+6\+: A\+C\+LK (blue L\+ED), expected period 30517ns
\end{DoxyItemize}

Note that these pins are connected to the L\+E\+Ds, so they will blink (so fast they will appear simply on to your slow eyes). Use a scope os logic analyzer to see the clock signals and measure their frequency.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2014. The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}crystal\char`\"{} is usually written \char`\"{}\+X\+T\+A\+L\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a W\+S\+N430v14 board, run it, you should see the 3 L\+E\+Ds blinking in sequence with a 500ms period.

The digital outputs are\+:
\begin{DoxyItemize}
\item P5.\+4\+: red L\+ED
\item P5.\+5\+: green L\+ED
\item P5.\+6\+: blue L\+ED
\end{DoxyItemize}

The \char`\"{}inputs\char`\"{} are\+:
\begin{DoxyItemize}
\item X\+IN, X\+O\+UT\+: 32768\+Hz crystal oscillator
\end{DoxyItemize}

The debug pins are\+:
\begin{DoxyItemize}
\item P2.\+1 toggles when interrupt T\+I\+M\+E\+R\+A0\+\_\+\+V\+E\+C\+T\+OR fires
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2014. The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyNote}{Note}
The term \char`\"{}micro-\/controller\char`\"{} is usually written \char`\"{}u\+C\char`\"{} by embedded geeks.
\end{DoxyNote}
Download the program to a W\+S\+N430v14 board, run it, you should see the red, then the green, then the blue L\+E\+Ds go on (all within less than a second). This is the sequence of events\+:
\begin{DoxyItemize}
\item enable and reset the radio ==$>$ red L\+ED on
\item configure S\+PI registers on M\+S\+P430
\item send a S\+N\+OP strobe to radio ==$>$ green L\+ED on
\item receive status byte from radio ==$>$ blue L\+ED on
\item go to sleep
\end{DoxyItemize}

The digital S\+PI interface consists of\+:
\begin{DoxyItemize}
\item P5.\+1/\+S\+I\+M\+O1\+: \char`\"{}slave-\/it-\/master-\/out\char`\"{}, i.\+e. M\+S\+P430-\/$>$C\+C2420
\item P5.\+2/\+S\+O\+M\+I0\+: \char`\"{}slave-\/out-\/master-\/in\char`\"{}, i.\+e. C\+C2420-\/$>$M\+S\+P430
\item P5.\+3/\+U\+C\+L\+K1\+: clock line
\item P4.\+2\+: chip-\/select (active-\/low) Extra lines\+:
\item P3.\+0\+: radio V\+R\+EG (active-\/high)
\item P1.\+7\+: radio reset line (active-\/low)
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2014.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

The M\+S\+P430 chip speaks 2-\/wire U\+A\+RT, i.\+e. two pins are used\+: one for sending bytes (U\+T\+X\+D0), one for receiving bytes (U\+R\+X\+D0). When you plug the W\+S\+N430 into your computer, it appears as a serial C\+OM port. That is, when you read/write to that port, the bytes end up on the U\+T\+X\+D0/\+U\+R\+X\+D0 pins.

Connect your W\+S\+N430v14 board to your computer, download this application to your W\+S\+N430v14 board and run it. On your computer, open a Pu\+T\+TY client on the C\+OM port of your board, and type characters into it.

Each time you type a character, you should see\+:
\begin{DoxyItemize}
\item the character prints on your terminal, as it is sent back on the TX line.
\item the red L\+ED toggles.
\end{DoxyItemize}

The digital U\+A\+RT interface is\+:
\begin{DoxyItemize}
\item P3.\+4\+: U\+T\+X\+D0
\item P3.\+5\+: U\+R\+X\+D0
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2012. The program starts executing here.
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyAuthor}{Author}
xavi vilajosana \href{mailto:xvilajosana@eecs.berkeley.edu}{\tt xvilajosana@eecs.\+berkeley.\+edu}, March 2012
\end{DoxyAuthor}
This is a standalone test program for the L\+E\+Ds and 32k\+Hz crystal of the G\+I\+NA board.

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, February 2012 
\end{DoxyAuthor}


Definition at line 223 of file main\+\_\+kinetis.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!Nmi\+SR@{Nmi\+SR}}
\index{Nmi\+SR@{Nmi\+SR}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{Nmi\+S\+R(void)}{NmiSR(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Nmi\+SR (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{startup__gcc_8c_ad1d98813d5003e7dba6f1108621cd901}{}\label{startup__gcc_8c_ad1d98813d5003e7dba6f1108621cd901}


Definition at line 283 of file startup\+\_\+gcc.\+c.

\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!Reset\+I\+SR@{Reset\+I\+SR}}
\index{Reset\+I\+SR@{Reset\+I\+SR}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{Reset\+I\+S\+R(void)}{ResetISR(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Reset\+I\+SR (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{startup__gcc_8c_a516ff8924be921fa3a1bb7754b1f5734}{}\label{startup__gcc_8c_a516ff8924be921fa3a1bb7754b1f5734}


Definition at line 310 of file startup\+\_\+gcc.\+c.



\subsection{Variable Documentation}
\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!\+\_\+bss@{\+\_\+bss}}
\index{\+\_\+bss@{\+\_\+bss}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+bss}{_bss}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\+\_\+t} \+\_\+bss}\hypertarget{startup__gcc_8c_af850648ae5530d03c13591aa90741077}{}\label{startup__gcc_8c_af850648ae5530d03c13591aa90741077}
\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!\+\_\+data@{\+\_\+data}}
\index{\+\_\+data@{\+\_\+data}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+data}{_data}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\+\_\+t} \+\_\+data}\hypertarget{startup__gcc_8c_a45c84a718a302530a9e80cce14821e33}{}\label{startup__gcc_8c_a45c84a718a302530a9e80cce14821e33}
\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!\+\_\+ebss@{\+\_\+ebss}}
\index{\+\_\+ebss@{\+\_\+ebss}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+ebss}{_ebss}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\+\_\+t} \+\_\+ebss}\hypertarget{startup__gcc_8c_a580f44faf8ff886796f2114d0de12c77}{}\label{startup__gcc_8c_a580f44faf8ff886796f2114d0de12c77}
\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!\+\_\+edata@{\+\_\+edata}}
\index{\+\_\+edata@{\+\_\+edata}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+edata}{_edata}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\+\_\+t} \+\_\+edata}\hypertarget{startup__gcc_8c_a1fc4a71c31f5b048d3b1b7b2d10684d1}{}\label{startup__gcc_8c_a1fc4a71c31f5b048d3b1b7b2d10684d1}
\index{startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}!\+\_\+etext@{\+\_\+etext}}
\index{\+\_\+etext@{\+\_\+etext}!startup\+\_\+gcc.\+c@{startup\+\_\+gcc.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+etext}{_etext}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\+\_\+t} \+\_\+etext}\hypertarget{startup__gcc_8c_abba93927cdaa2d32967cfc724f47cf8f}{}\label{startup__gcc_8c_abba93927cdaa2d32967cfc724f47cf8f}
