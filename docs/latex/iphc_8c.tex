\hypertarget{iphc_8c}{}\section{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/openstack/03a-\/\+I\+P\+H\+C/iphc.c File Reference}
\label{iphc_8c}\index{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/openstack/03a-\/\+I\+P\+H\+C/iphc.\+c@{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/openstack/03a-\/\+I\+P\+H\+C/iphc.\+c}}
{\ttfamily \#include \char`\"{}opendefs.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}iphc.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}packetfunctions.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}idmanager.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openserial.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sixtop.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}forwarding.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}neighbors.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openbridge.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}icmpv6rpl.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{iphc_8c_a82e399590e2cc021204f4e4ca8e3446f}{iphc\+\_\+retrieve\+I\+Pv6\+Header} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{structipv6__header__iht}{ipv6\+\_\+header\+\_\+iht} $\ast$ipv6\+\_\+outer\+\_\+header, \hyperlink{structipv6__header__iht}{ipv6\+\_\+header\+\_\+iht} $\ast$ipv6\+\_\+inner\+\_\+header, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$page\+\_\+length)
\begin{DoxyCompactList}\small\item\em Retrieve an I\+Pv6 header from a message. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{iphc_8c_a6e1b314822e54dd40bfff8622b6fddac}{iphc\+\_\+retrieve\+Iphc\+Header} (\hyperlink{structopen__addr__t}{open\+\_\+addr\+\_\+t} $\ast$temp\+\_\+addr\+\_\+16b, \hyperlink{structopen__addr__t}{open\+\_\+addr\+\_\+t} $\ast$temp\+\_\+addr\+\_\+64b, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$dispatch, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$tf, \hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} $\ast$nh, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$hlim, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$sam, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$m, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$dam, \hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{structipv6__header__iht}{ipv6\+\_\+header\+\_\+iht} $\ast$ipv6\+\_\+header, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} previous\+Len)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{iphc_8c_ab44f4619063a9331238ffb889c68a1fe}{iphc\+\_\+prepend\+I\+Pv6\+Hop\+By\+Hop\+Header} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} nextheader, \hyperlink{structrpl__option__ht}{rpl\+\_\+option\+\_\+ht} $\ast$rpl\+\_\+option)
\begin{DoxyCompactList}\small\item\em Prepend an I\+Pv6 hop-\/by-\/hop header to a message. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{iphc_8c_a83dd0113a0bbf6ab6c4f2813365e772d}{iphc\+\_\+retrieve\+I\+Pv6\+Hop\+By\+Hop\+Header} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{structrpl__option__ht}{rpl\+\_\+option\+\_\+ht} $\ast$rpl\+\_\+option)
\begin{DoxyCompactList}\small\item\em Retrieve an I\+Pv6 hop-\/by-\/hop header from a message. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___i_p_h_c_ga4da058d78bdad75d1b51b80400008eb0}{iphc\+\_\+init} ()
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___i_p_h_c_gafb19e0869f28f4c906dc3d2dd1eed908}{iphc\+\_\+send\+From\+Forwarding} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{structipv6__header__iht}{ipv6\+\_\+header\+\_\+iht} $\ast$ipv6\+\_\+outer\+\_\+header, \hyperlink{structipv6__header__iht}{ipv6\+\_\+header\+\_\+iht} $\ast$ipv6\+\_\+inner\+\_\+header, \hyperlink{structrpl__option__ht}{rpl\+\_\+option\+\_\+ht} $\ast$rpl\+\_\+option, \hyperlink{_p_e___types_8h_a33594304e786b158f3fb30289278f5af}{uint32\+\_\+t} $\ast$flow\+\_\+label, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$rh3\+\_\+copy, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} rh3\+\_\+length, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} fw\+\_\+\+Send\+Orfw\+\_\+\+Rcv)
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___i_p_h_c_ga4d3398508cb6263929b37fc238c829f6}{iphc\+\_\+send\+From\+Bridge} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___i_p_h_c_ga74c2778b882cbb1be841b5e31e8d27ee}{iphc\+\_\+send\+Done} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{disk_8c_ad018a3100b2dabad325a0800152db297}{error})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___i_p_h_c_ga1d37923eb55e392d0a8a8e315a941e02}{iphc\+\_\+receive} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg)
\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___i_p_h_c_ga5c71ec3ac9733a597e3e945129814830}{iphc\+\_\+prepend\+I\+Pv6\+Header} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$msg, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} tf, \hyperlink{_p_e___types_8h_a33594304e786b158f3fb30289278f5af}{uint32\+\_\+t} value\+\_\+flow\+Label, \hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} nh, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} value\+\_\+next\+Header, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} hlim, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} value\+\_\+hop\+Limit, \hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} cid, \hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} sac, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} sam, \hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} m, \hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} dac, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} dam, \hyperlink{structopen__addr__t}{open\+\_\+addr\+\_\+t} $\ast$value\+\_\+dest, \hyperlink{structopen__addr__t}{open\+\_\+addr\+\_\+t} $\ast$value\+\_\+src, \hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} fw\+\_\+\+Send\+Orfw\+\_\+\+Rcv)
\begin{DoxyCompactList}\small\item\em Prepend an I\+Pv6 header to a message. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{iphc.\+c@{iphc.\+c}!iphc\+\_\+prepend\+I\+Pv6\+Hop\+By\+Hop\+Header@{iphc\+\_\+prepend\+I\+Pv6\+Hop\+By\+Hop\+Header}}
\index{iphc\+\_\+prepend\+I\+Pv6\+Hop\+By\+Hop\+Header@{iphc\+\_\+prepend\+I\+Pv6\+Hop\+By\+Hop\+Header}!iphc.\+c@{iphc.\+c}}
\subsubsection[{\texorpdfstring{iphc\+\_\+prepend\+I\+Pv6\+Hop\+By\+Hop\+Header(\+Open\+Queue\+Entry\+\_\+t $\ast$msg, uint8\+\_\+t nextheader, rpl\+\_\+option\+\_\+ht $\ast$rpl\+\_\+option)}{iphc_prependIPv6HopByHopHeader(OpenQueueEntry_t *msg, uint8_t nextheader, rpl_option_ht *rpl_option)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} iphc\+\_\+prepend\+I\+Pv6\+Hop\+By\+Hop\+Header (
\begin{DoxyParamCaption}
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{msg, }
\item[{{\bf uint8\+\_\+t}}]{nextheader, }
\item[{{\bf rpl\+\_\+option\+\_\+ht} $\ast$}]{rpl\+\_\+option}
\end{DoxyParamCaption}
)}\hypertarget{iphc_8c_ab44f4619063a9331238ffb889c68a1fe}{}\label{iphc_8c_ab44f4619063a9331238ffb889c68a1fe}


Prepend an I\+Pv6 hop-\/by-\/hop header to a message. 

\begin{DoxyNote}{Note}
The field are written in reverse order.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em msg} & The message to prepend the header to. \\
\hline
\mbox{\tt in}  & {\em nextheader} & The next header value to use. \\
\hline
\mbox{\tt in}  & {\em nh} & Whether the next header is inline or compressed. \\
\hline
\mbox{\tt in}  & {\em rpl\+\_\+option} & The R\+PL option to include. \\
\hline
\end{DoxyParams}


Definition at line 1022 of file iphc.\+c.

\index{iphc.\+c@{iphc.\+c}!iphc\+\_\+retrieve\+Iphc\+Header@{iphc\+\_\+retrieve\+Iphc\+Header}}
\index{iphc\+\_\+retrieve\+Iphc\+Header@{iphc\+\_\+retrieve\+Iphc\+Header}!iphc.\+c@{iphc.\+c}}
\subsubsection[{\texorpdfstring{iphc\+\_\+retrieve\+Iphc\+Header(open\+\_\+addr\+\_\+t $\ast$temp\+\_\+addr\+\_\+16b, open\+\_\+addr\+\_\+t $\ast$temp\+\_\+addr\+\_\+64b, uint8\+\_\+t $\ast$dispatch, uint8\+\_\+t $\ast$tf, bool $\ast$nh, uint8\+\_\+t $\ast$hlim, uint8\+\_\+t $\ast$sam, uint8\+\_\+t $\ast$m, uint8\+\_\+t $\ast$dam, Open\+Queue\+Entry\+\_\+t $\ast$msg, ipv6\+\_\+header\+\_\+iht $\ast$ipv6\+\_\+header, uint8\+\_\+t previous\+Len)}{iphc_retrieveIphcHeader(open_addr_t *temp_addr_16b, open_addr_t *temp_addr_64b, uint8_t *dispatch, uint8_t *tf, bool *nh, uint8_t *hlim, uint8_t *sam, uint8_t *m, uint8_t *dam, OpenQueueEntry_t *msg, ipv6_header_iht *ipv6_header, uint8_t previousLen)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\+\_\+t} iphc\+\_\+retrieve\+Iphc\+Header (
\begin{DoxyParamCaption}
\item[{{\bf open\+\_\+addr\+\_\+t} $\ast$}]{temp\+\_\+addr\+\_\+16b, }
\item[{{\bf open\+\_\+addr\+\_\+t} $\ast$}]{temp\+\_\+addr\+\_\+64b, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{dispatch, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{tf, }
\item[{{\bf bool} $\ast$}]{nh, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{hlim, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{sam, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{m, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{dam, }
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{msg, }
\item[{{\bf ipv6\+\_\+header\+\_\+iht} $\ast$}]{ipv6\+\_\+header, }
\item[{{\bf uint8\+\_\+t}}]{previous\+Len}
\end{DoxyParamCaption}
)}\hypertarget{iphc_8c_a6e1b314822e54dd40bfff8622b6fddac}{}\label{iphc_8c_a6e1b314822e54dd40bfff8622b6fddac}


Definition at line 722 of file iphc.\+c.

\index{iphc.\+c@{iphc.\+c}!iphc\+\_\+retrieve\+I\+Pv6\+Header@{iphc\+\_\+retrieve\+I\+Pv6\+Header}}
\index{iphc\+\_\+retrieve\+I\+Pv6\+Header@{iphc\+\_\+retrieve\+I\+Pv6\+Header}!iphc.\+c@{iphc.\+c}}
\subsubsection[{\texorpdfstring{iphc\+\_\+retrieve\+I\+Pv6\+Header(\+Open\+Queue\+Entry\+\_\+t $\ast$msg, ipv6\+\_\+header\+\_\+iht $\ast$ipv6\+\_\+outer\+\_\+header, ipv6\+\_\+header\+\_\+iht $\ast$ipv6\+\_\+inner\+\_\+header, uint8\+\_\+t $\ast$page\+\_\+length)}{iphc_retrieveIPv6Header(OpenQueueEntry_t *msg, ipv6_header_iht *ipv6_outer_header, ipv6_header_iht *ipv6_inner_header, uint8_t *page_length)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} iphc\+\_\+retrieve\+I\+Pv6\+Header (
\begin{DoxyParamCaption}
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{msg, }
\item[{{\bf ipv6\+\_\+header\+\_\+iht} $\ast$}]{ipv6\+\_\+outer\+\_\+header, }
\item[{{\bf ipv6\+\_\+header\+\_\+iht} $\ast$}]{ipv6\+\_\+inner\+\_\+header, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{page\+\_\+length}
\end{DoxyParamCaption}
)}\hypertarget{iphc_8c_a82e399590e2cc021204f4e4ca8e3446f}{}\label{iphc_8c_a82e399590e2cc021204f4e4ca8e3446f}


Retrieve an I\+Pv6 header from a message. 



Definition at line 523 of file iphc.\+c.

\index{iphc.\+c@{iphc.\+c}!iphc\+\_\+retrieve\+I\+Pv6\+Hop\+By\+Hop\+Header@{iphc\+\_\+retrieve\+I\+Pv6\+Hop\+By\+Hop\+Header}}
\index{iphc\+\_\+retrieve\+I\+Pv6\+Hop\+By\+Hop\+Header@{iphc\+\_\+retrieve\+I\+Pv6\+Hop\+By\+Hop\+Header}!iphc.\+c@{iphc.\+c}}
\subsubsection[{\texorpdfstring{iphc\+\_\+retrieve\+I\+Pv6\+Hop\+By\+Hop\+Header(\+Open\+Queue\+Entry\+\_\+t $\ast$msg, rpl\+\_\+option\+\_\+ht $\ast$rpl\+\_\+option)}{iphc_retrieveIPv6HopByHopHeader(OpenQueueEntry_t *msg, rpl_option_ht *rpl_option)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\+\_\+t} iphc\+\_\+retrieve\+I\+Pv6\+Hop\+By\+Hop\+Header (
\begin{DoxyParamCaption}
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{msg, }
\item[{{\bf rpl\+\_\+option\+\_\+ht} $\ast$}]{rpl\+\_\+option}
\end{DoxyParamCaption}
)}\hypertarget{iphc_8c_a83dd0113a0bbf6ab6c4f2813365e772d}{}\label{iphc_8c_a83dd0113a0bbf6ab6c4f2813365e772d}


Retrieve an I\+Pv6 hop-\/by-\/hop header from a message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em msg} & The message to retrieve the header from. \\
\hline
\mbox{\tt out}  & {\em hopbyhop\+\_\+header} & Pointer to the structure to hold the retrieved hop-\/by-\/hop option. \\
\hline
\mbox{\tt out}  & {\em rpl\+\_\+option} & Pointer to the structure to hold the retrieved R\+PL option. \\
\hline
\end{DoxyParams}


Definition at line 1060 of file iphc.\+c.

