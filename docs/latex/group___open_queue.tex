\hypertarget{group___open_queue}{}\section{Open\+Queue}
\label{group___open_queue}\index{Open\+Queue@{Open\+Queue}}


The component which managing the buffer of packet.  


\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structdebug_open_queue_entry__t}{debug\+Open\+Queue\+Entry\+\_\+t}
\item 
struct \hyperlink{structopenqueue__vars__t}{openqueue\+\_\+vars\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group___open_queue_gaf56b9dc58ae650ca79c068105b84bb79}{Q\+U\+E\+U\+E\+L\+E\+N\+G\+TH}~10
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_queue_ga9ff14ef9d45f660f007b597d5954724e}{openqueue\+\_\+init} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Initialize this module. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group___open_queue_ga38fcfaa1cfdce93705865854766bc282}{debug\+Print\+\_\+queue} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$ \hyperlink{group___open_queue_ga40baa99cf50015c0f478b699c54ad211}{openqueue\+\_\+get\+Free\+Packet\+Buffer} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} creator)
\begin{DoxyCompactList}\small\item\em Request a new (free) packet buffer. \end{DoxyCompactList}\item 
\hyperlink{opendefs_8h_af20b7c3ed9d2ba19e56a309ad9314803}{owerror\+\_\+t} \hyperlink{group___open_queue_ga326f90b6a0c7a331257b524a5af236d4}{openqueue\+\_\+free\+Packet\+Buffer} (\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$pkt)
\begin{DoxyCompactList}\small\item\em Free a previously-\/allocated packet buffer. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_queue_gade7d9553bb4ff27f1285bbc4905d7831}{openqueue\+\_\+remove\+All\+Created\+By} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} creator)
\begin{DoxyCompactList}\small\item\em Free all the packet buffers created by a specific module. \end{DoxyCompactList}\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_queue_gab4a47e0afad6ca760d6dbef15787ee10}{openqueue\+\_\+remove\+All\+Owned\+By} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} owner)
\begin{DoxyCompactList}\small\item\em Free all the packet buffers owned by a specific module. \end{DoxyCompactList}\item 
\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$ \hyperlink{group___open_queue_ga40c24137e491056f44eea45ca961b7b4}{openqueue\+\_\+sixtop\+Get\+Sent\+Packet} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$ \hyperlink{group___open_queue_ga55dc6c059910d2d78d188f2d776bc257}{openqueue\+\_\+sixtop\+Get\+Received\+Packet} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$ \hyperlink{group___open_queue_ga654ff57cc43c12704d87dc66fcfe7fa2}{openqueue\+\_\+mac\+Get\+Data\+Packet} (\hyperlink{structopen__addr__t}{open\+\_\+addr\+\_\+t} $\ast$to\+Neighbor)
\item 
\hyperlink{struct_open_queue_entry__t}{Open\+Queue\+Entry\+\_\+t} $\ast$ \hyperlink{group___open_queue_ga937a90da5389299afbcaeb06311b0041}{openqueue\+\_\+mac\+Get\+E\+B\+Packet} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The component which managing the buffer of packet. 

\begin{DoxyAuthor}{Author}
Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, August 2010 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\index{Open\+Queue@{Open\+Queue}!Q\+U\+E\+U\+E\+L\+E\+N\+G\+TH@{Q\+U\+E\+U\+E\+L\+E\+N\+G\+TH}}
\index{Q\+U\+E\+U\+E\+L\+E\+N\+G\+TH@{Q\+U\+E\+U\+E\+L\+E\+N\+G\+TH}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{Q\+U\+E\+U\+E\+L\+E\+N\+G\+TH}{QUEUELENGTH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define Q\+U\+E\+U\+E\+L\+E\+N\+G\+TH~10}\hypertarget{group___open_queue_gaf56b9dc58ae650ca79c068105b84bb79}{}\label{group___open_queue_gaf56b9dc58ae650ca79c068105b84bb79}


Definition at line 16 of file openqueue.\+h.



\subsection{Function Documentation}
\index{Open\+Queue@{Open\+Queue}!debug\+Print\+\_\+queue@{debug\+Print\+\_\+queue}}
\index{debug\+Print\+\_\+queue@{debug\+Print\+\_\+queue}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{debug\+Print\+\_\+queue(void)}{debugPrint_queue(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} debug\+Print\+\_\+queue (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga38fcfaa1cfdce93705865854766bc282}{}\label{group___open_queue_ga38fcfaa1cfdce93705865854766bc282}


Trigger this module to print status information, over serial. 

debug\+Print\+\_\+$\ast$ functions are used by the openserial module to continuously print status information about several modules in the Open\+W\+SN stack.

\begin{DoxyReturn}{Returns}
T\+R\+UE if this function printed something, F\+A\+L\+SE otherwise. 
\end{DoxyReturn}


Definition at line 38 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+free\+Packet\+Buffer@{openqueue\+\_\+free\+Packet\+Buffer}}
\index{openqueue\+\_\+free\+Packet\+Buffer@{openqueue\+\_\+free\+Packet\+Buffer}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+free\+Packet\+Buffer(\+Open\+Queue\+Entry\+\_\+t $\ast$pkt)}{openqueue_freePacketBuffer(OpenQueueEntry_t *pkt)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf owerror\+\_\+t} openqueue\+\_\+free\+Packet\+Buffer (
\begin{DoxyParamCaption}
\item[{{\bf Open\+Queue\+Entry\+\_\+t} $\ast$}]{pkt}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga326f90b6a0c7a331257b524a5af236d4}{}\label{group___open_queue_ga326f90b6a0c7a331257b524a5af236d4}


Free a previously-\/allocated packet buffer. 


\begin{DoxyParams}{Parameters}
{\em pkt} & A pointer to the previsouly-\/allocated packet buffer.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+\_\+\+S\+U\+C\+C\+E\+SS when the freeing was succeful. 

E\+\_\+\+F\+A\+IL when the module could not find the specified packet buffer. 
\end{DoxyReturn}


Definition at line 98 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+get\+Free\+Packet\+Buffer@{openqueue\+\_\+get\+Free\+Packet\+Buffer}}
\index{openqueue\+\_\+get\+Free\+Packet\+Buffer@{openqueue\+\_\+get\+Free\+Packet\+Buffer}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+get\+Free\+Packet\+Buffer(uint8\+\_\+t creator)}{openqueue_getFreePacketBuffer(uint8_t creator)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Open\+Queue\+Entry\+\_\+t}$\ast$ openqueue\+\_\+get\+Free\+Packet\+Buffer (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{creator}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga40baa99cf50015c0f478b699c54ad211}{}\label{group___open_queue_ga40baa99cf50015c0f478b699c54ad211}


Request a new (free) packet buffer. 

Component throughout the protocol stack can call this function is they want to get a new packet buffer to start creating a new packet.

\begin{DoxyNote}{Note}
Once a packet has been allocated, it is up to the creator of the packet to free it using the \hyperlink{group___open_queue_ga326f90b6a0c7a331257b524a5af236d4}{openqueue\+\_\+free\+Packet\+Buffer()} function.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
A pointer to the queue entry when it could be allocated, or N\+U\+LL when it could not be allocated (buffer full or not synchronized). 
\end{DoxyReturn}


Definition at line 63 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+init@{openqueue\+\_\+init}}
\index{openqueue\+\_\+init@{openqueue\+\_\+init}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+init(void)}{openqueue_init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} openqueue\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga9ff14ef9d45f660f007b597d5954724e}{}\label{group___open_queue_ga9ff14ef9d45f660f007b597d5954724e}


Initialize this module. 



Definition at line 23 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+mac\+Get\+Data\+Packet@{openqueue\+\_\+mac\+Get\+Data\+Packet}}
\index{openqueue\+\_\+mac\+Get\+Data\+Packet@{openqueue\+\_\+mac\+Get\+Data\+Packet}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+mac\+Get\+Data\+Packet(open\+\_\+addr\+\_\+t $\ast$to\+Neighbor)}{openqueue_macGetDataPacket(open_addr_t *toNeighbor)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Open\+Queue\+Entry\+\_\+t}$\ast$ openqueue\+\_\+mac\+Get\+Data\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf open\+\_\+addr\+\_\+t} $\ast$}]{to\+Neighbor}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga654ff57cc43c12704d87dc66fcfe7fa2}{}\label{group___open_queue_ga654ff57cc43c12704d87dc66fcfe7fa2}


Definition at line 191 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+mac\+Get\+E\+B\+Packet@{openqueue\+\_\+mac\+Get\+E\+B\+Packet}}
\index{openqueue\+\_\+mac\+Get\+E\+B\+Packet@{openqueue\+\_\+mac\+Get\+E\+B\+Packet}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+mac\+Get\+E\+B\+Packet(void)}{openqueue_macGetEBPacket(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Open\+Queue\+Entry\+\_\+t}$\ast$ openqueue\+\_\+mac\+Get\+E\+B\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga937a90da5389299afbcaeb06311b0041}{}\label{group___open_queue_ga937a90da5389299afbcaeb06311b0041}


Definition at line 225 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+remove\+All\+Created\+By@{openqueue\+\_\+remove\+All\+Created\+By}}
\index{openqueue\+\_\+remove\+All\+Created\+By@{openqueue\+\_\+remove\+All\+Created\+By}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+remove\+All\+Created\+By(uint8\+\_\+t creator)}{openqueue_removeAllCreatedBy(uint8_t creator)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} openqueue\+\_\+remove\+All\+Created\+By (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{creator}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_gade7d9553bb4ff27f1285bbc4905d7831}{}\label{group___open_queue_gade7d9553bb4ff27f1285bbc4905d7831}


Free all the packet buffers created by a specific module. 


\begin{DoxyParams}{Parameters}
{\em creator} & The identifier of the component, taken in C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+$\ast$. \\
\hline
\end{DoxyParams}


Definition at line 128 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+remove\+All\+Owned\+By@{openqueue\+\_\+remove\+All\+Owned\+By}}
\index{openqueue\+\_\+remove\+All\+Owned\+By@{openqueue\+\_\+remove\+All\+Owned\+By}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+remove\+All\+Owned\+By(uint8\+\_\+t owner)}{openqueue_removeAllOwnedBy(uint8_t owner)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} openqueue\+\_\+remove\+All\+Owned\+By (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{owner}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_gab4a47e0afad6ca760d6dbef15787ee10}{}\label{group___open_queue_gab4a47e0afad6ca760d6dbef15787ee10}


Free all the packet buffers owned by a specific module. 


\begin{DoxyParams}{Parameters}
{\em owner} & The identifier of the component, taken in C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+$\ast$. \\
\hline
\end{DoxyParams}


Definition at line 145 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+sixtop\+Get\+Received\+Packet@{openqueue\+\_\+sixtop\+Get\+Received\+Packet}}
\index{openqueue\+\_\+sixtop\+Get\+Received\+Packet@{openqueue\+\_\+sixtop\+Get\+Received\+Packet}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+sixtop\+Get\+Received\+Packet(void)}{openqueue_sixtopGetReceivedPacket(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Open\+Queue\+Entry\+\_\+t}$\ast$ openqueue\+\_\+sixtop\+Get\+Received\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga55dc6c059910d2d78d188f2d776bc257}{}\label{group___open_queue_ga55dc6c059910d2d78d188f2d776bc257}


Definition at line 174 of file openqueue.\+c.

\index{Open\+Queue@{Open\+Queue}!openqueue\+\_\+sixtop\+Get\+Sent\+Packet@{openqueue\+\_\+sixtop\+Get\+Sent\+Packet}}
\index{openqueue\+\_\+sixtop\+Get\+Sent\+Packet@{openqueue\+\_\+sixtop\+Get\+Sent\+Packet}!Open\+Queue@{Open\+Queue}}
\subsubsection[{\texorpdfstring{openqueue\+\_\+sixtop\+Get\+Sent\+Packet(void)}{openqueue_sixtopGetSentPacket(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Open\+Queue\+Entry\+\_\+t}$\ast$ openqueue\+\_\+sixtop\+Get\+Sent\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group___open_queue_ga40c24137e491056f44eea45ca961b7b4}{}\label{group___open_queue_ga40c24137e491056f44eea45ca961b7b4}


Definition at line 159 of file openqueue.\+c.

