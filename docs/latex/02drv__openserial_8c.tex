\hypertarget{02drv__openserial_8c}{}\section{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/projects/common/02drv\+\_\+openserial/02drv\+\_\+openserial.c File Reference}
\label{02drv__openserial_8c}\index{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/projects/common/02drv\+\_\+openserial/02drv\+\_\+openserial.\+c@{/home/lkn/off\+Cloud/\+Smartgrid-\/code/\+Git\+Hub/openwsn-\/fw/projects/common/02drv\+\_\+openserial/02drv\+\_\+openserial.\+c}}
{\ttfamily \#include \char`\"{}stdint.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stdio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}board.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}leds.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}uart.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}bsp\+\_\+timer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openserial.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structapp__vars__t}{app\+\_\+vars\+\_\+t}
\begin{DoxyCompactList}\small\item\em This program shows the use of the \char`\"{}spi\char`\"{} bsp module. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{02drv__openserial_8c_a3faf66954cf820134de466ddd82f2cd4}{B\+S\+P\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+OD}~(32768/10)
\begin{DoxyCompactList}\small\item\em This is a program which shows how to use the \char`\"{}openserial\char`\"{} driver module. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{02drv__openserial_8c_a4bc32ada398f2efd613f7a2aef0bc2ca}{cb\+\_\+compare} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
int \hyperlink{02drv__openserial_8c_ad0caa506af897a3ebe6699aa0c0da367}{mote\+\_\+main} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em The program starts executing here. in order to echo chunks of bytes, each chunk needs to start with character \textquotesingle{}H\textquotesingle{} as openserial takes different actions according to the initial character of the stream. \end{DoxyCompactList}\item 
\hyperlink{structopen__addr__t}{open\+\_\+addr\+\_\+t} $\ast$ \hyperlink{group___i_d_manager_gac95b57a051d12bff7b5c3e3599ce4aa5}{idmanager\+\_\+get\+My\+ID} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} type)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{02drv__openserial_8c_a97abcc8a5cf976a2e068fd865cc81ada}{ieee154e\+\_\+get\+Asn} (\hyperlink{_p_e___types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$array)
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___i_d_manager_ga464f5751bc371a97b41407697e6817a3}{idmanager\+\_\+trigger\+About\+Root} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___open_bridge_gaa9c3e5722db7e8c313d5d36c8269203e}{openbridge\+\_\+trigger\+Data} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{02drv__openserial_8c_ab246275bf7ac2efd6d856f203f1eda43}{tcpinject\+\_\+trigger} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{02drv__openserial_8c_a5c7663212895908339930b129651ca4d}{udpinject\+\_\+trigger} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void} \hyperlink{group___i_c_m_pv6_echo_ga9ac3ae0e9d1e46044070298bc24fee82}{icmpv6echo\+\_\+trigger} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{02drv__openserial_8c_a648ec409f5bd3cbce70206f13e3e0c79}{debug\+Print\+\_\+is\+Sync} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group___i_d_manager_gaa69fa284f9b777d2f5f600f94c3eb44b}{debug\+Print\+\_\+id} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group__sixtop_ga1c6ef448cc665d7c6e9dd84c819d638a}{debug\+Print\+\_\+ka\+Period} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group__sixtop_ga5b5d77a858a5ac83abdf678d38d059e0}{debug\+Print\+\_\+my\+D\+A\+Grank} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{02drv__openserial_8c_a0479350195775e619bb4c9c379804a62}{debug\+Print\+\_\+asn} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{02drv__openserial_8c_acdf572d4f74817a0ed5ab375dfab010a}{debug\+Print\+\_\+mac\+Stats} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group___schedule_gafbaaa0f57ce9c382c0fc00225a7b2078}{debug\+Print\+\_\+schedule} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group___schedule_gac7367d23ea854c9f421dd0a18d767fd1}{debug\+Print\+\_\+backoff} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group___open_queue_ga38fcfaa1cfdce93705865854766bc282}{debug\+Print\+\_\+queue} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Trigger this module to print status information, over serial. \end{DoxyCompactList}\item 
\hyperlink{_p_e___types_8h_a97a80ca1602ebf2303258971a2c938e2}{bool} \hyperlink{group___neighbors_ga85475c492d943f16dc6da4fea6683352}{debug\+Print\+\_\+neighbors} (\hyperlink{usb__devapi_8h_afabf60e7f57651d6d595a02c75f07cd0}{void})
\begin{DoxyCompactList}\small\item\em Triggers this module to print status information, over serial. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structapp__vars__t}{app\+\_\+vars\+\_\+t} \hyperlink{02drv__openserial_8c_a8a1b0b7ccff92c7f1d8961997cd2c913}{app\+\_\+vars}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!B\+S\+P\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+OD@{B\+S\+P\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+OD}}
\index{B\+S\+P\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+OD@{B\+S\+P\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+OD}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{B\+S\+P\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+OD}{BSP_TIMER_PERIOD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+S\+P\+\_\+\+T\+I\+M\+E\+R\+\_\+\+P\+E\+R\+I\+OD~(32768/10)}\hypertarget{02drv__openserial_8c_a3faf66954cf820134de466ddd82f2cd4}{}\label{02drv__openserial_8c_a3faf66954cf820134de466ddd82f2cd4}


This is a program which shows how to use the \char`\"{}openserial\char`\"{} driver module. 

Since the driver modules for different platforms have the same declaration, you can use this project with any platform.

This application allows you to test that the openserial driver it working fine. Once your board is running this application, use the serial\+Tester\+Cli Python application (part of the openwsn-\/sw repo) to issue serial echo commands, making sure all is well.

\begin{DoxyAuthor}{Author}
Xavi Vilajosana \href{mailto:xvilajosana@eecs.berkeley.edu}{\tt xvilajosana@eecs.\+berkeley.\+edu}, January 2013. 

Thomas Watteyne \href{mailto:watteyne@eecs.berkeley.edu}{\tt watteyne@eecs.\+berkeley.\+edu}, January 2014. 
\end{DoxyAuthor}


Definition at line 29 of file 02drv\+\_\+openserial.\+c.



\subsection{Function Documentation}
\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!cb\+\_\+compare@{cb\+\_\+compare}}
\index{cb\+\_\+compare@{cb\+\_\+compare}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{cb\+\_\+compare(void)}{cb_compare(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} cb\+\_\+compare (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_a4bc32ada398f2efd613f7a2aef0bc2ca}{}\label{02drv__openserial_8c_a4bc32ada398f2efd613f7a2aef0bc2ca}


Definition at line 77 of file 02drv\+\_\+openserial.\+c.

\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!debug\+Print\+\_\+asn@{debug\+Print\+\_\+asn}}
\index{debug\+Print\+\_\+asn@{debug\+Print\+\_\+asn}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{debug\+Print\+\_\+asn(void)}{debugPrint_asn(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} debug\+Print\+\_\+asn (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_a0479350195775e619bb4c9c379804a62}{}\label{02drv__openserial_8c_a0479350195775e619bb4c9c379804a62}


Definition at line 119 of file 02drv\+\_\+openserial.\+c.

\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!debug\+Print\+\_\+is\+Sync@{debug\+Print\+\_\+is\+Sync}}
\index{debug\+Print\+\_\+is\+Sync@{debug\+Print\+\_\+is\+Sync}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{debug\+Print\+\_\+is\+Sync(void)}{debugPrint_isSync(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} debug\+Print\+\_\+is\+Sync (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_a648ec409f5bd3cbce70206f13e3e0c79}{}\label{02drv__openserial_8c_a648ec409f5bd3cbce70206f13e3e0c79}


Definition at line 107 of file 02drv\+\_\+openserial.\+c.

\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!debug\+Print\+\_\+mac\+Stats@{debug\+Print\+\_\+mac\+Stats}}
\index{debug\+Print\+\_\+mac\+Stats@{debug\+Print\+\_\+mac\+Stats}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{debug\+Print\+\_\+mac\+Stats(void)}{debugPrint_macStats(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} debug\+Print\+\_\+mac\+Stats (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_acdf572d4f74817a0ed5ab375dfab010a}{}\label{02drv__openserial_8c_acdf572d4f74817a0ed5ab375dfab010a}


Definition at line 122 of file 02drv\+\_\+openserial.\+c.

\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!ieee154e\+\_\+get\+Asn@{ieee154e\+\_\+get\+Asn}}
\index{ieee154e\+\_\+get\+Asn@{ieee154e\+\_\+get\+Asn}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{ieee154e\+\_\+get\+Asn(uint8\+\_\+t $\ast$array)}{ieee154e_getAsn(uint8_t *array)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} ieee154e\+\_\+get\+Asn (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$}]{array}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_a97abcc8a5cf976a2e068fd865cc81ada}{}\label{02drv__openserial_8c_a97abcc8a5cf976a2e068fd865cc81ada}


Definition at line 88 of file 02drv\+\_\+openserial.\+c.

\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!mote\+\_\+main@{mote\+\_\+main}}
\index{mote\+\_\+main@{mote\+\_\+main}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{mote\+\_\+main(void)}{mote_main(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int mote\+\_\+main (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_ad0caa506af897a3ebe6699aa0c0da367}{}\label{02drv__openserial_8c_ad0caa506af897a3ebe6699aa0c0da367}


The program starts executing here. in order to echo chunks of bytes, each chunk needs to start with character \textquotesingle{}H\textquotesingle{} as openserial takes different actions according to the initial character of the stream. 

Z1-\/specific definition of the \char`\"{}board\char`\"{} bsp module.

W\+S\+N430v13b-\/specific definition of the \char`\"{}board\char`\"{} bsp module.

Telos\+B-\/specific definition of the \char`\"{}board\char`\"{} bsp module.

Python-\/based emulation of the mote\textquotesingle{}s power supply.

iot-\/lab\+\_\+\+M3 definition of the \char`\"{}board\char`\"{} bsp module.

iot-\/lab\+\_\+\+A8-\/\+M3 definition of the \char`\"{}board\char`\"{} bsp module.

G\+I\+N\+A-\/specific definition of the \char`\"{}board\char`\"{} bsp module.

e\+Z430-\/\+R\+F2500-\/specific definition of the \char`\"{}board\char`\"{} bsp module.

The program starts executing here.

openmote\+S\+T\+M32 definition of the \char`\"{}board\char`\"{} bsp module. 

Definition at line 52 of file 02drv\+\_\+openserial.\+c.

\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!tcpinject\+\_\+trigger@{tcpinject\+\_\+trigger}}
\index{tcpinject\+\_\+trigger@{tcpinject\+\_\+trigger}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{tcpinject\+\_\+trigger(void)}{tcpinject_trigger(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} tcpinject\+\_\+trigger (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_ab246275bf7ac2efd6d856f203f1eda43}{}\label{02drv__openserial_8c_ab246275bf7ac2efd6d856f203f1eda43}


Definition at line 100 of file 02drv\+\_\+openserial.\+c.

\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!udpinject\+\_\+trigger@{udpinject\+\_\+trigger}}
\index{udpinject\+\_\+trigger@{udpinject\+\_\+trigger}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{udpinject\+\_\+trigger(void)}{udpinject_trigger(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} udpinject\+\_\+trigger (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{02drv__openserial_8c_a5c7663212895908339930b129651ca4d}{}\label{02drv__openserial_8c_a5c7663212895908339930b129651ca4d}


Definition at line 102 of file 02drv\+\_\+openserial.\+c.



\subsection{Variable Documentation}
\index{02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}!app\+\_\+vars@{app\+\_\+vars}}
\index{app\+\_\+vars@{app\+\_\+vars}!02drv\+\_\+openserial.\+c@{02drv\+\_\+openserial.\+c}}
\subsubsection[{\texorpdfstring{app\+\_\+vars}{app_vars}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf app\+\_\+vars\+\_\+t} app\+\_\+vars}\hypertarget{02drv__openserial_8c_a8a1b0b7ccff92c7f1d8961997cd2c913}{}\label{02drv__openserial_8c_a8a1b0b7ccff92c7f1d8961997cd2c913}


Definition at line 39 of file 02drv\+\_\+openserial.\+c.

