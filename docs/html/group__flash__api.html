<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>OpenWSN Smartgrid TSCH testbed: Flash_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenWSN Smartgrid TSCH testbed
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Flash_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaedcc8d25fdce7a51b46e6d37629dbef3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gaedcc8d25fdce7a51b46e6d37629dbef3">FlashMainPageErase</a> (<a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Address)</td></tr>
<tr class="separator:gaedcc8d25fdce7a51b46e6d37629dbef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67d5a1a47713df085c99877079365f04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga67d5a1a47713df085c99877079365f04">FlashUpperPageErase</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)</td></tr>
<tr class="separator:ga67d5a1a47713df085c99877079365f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15cabe29d0066e6c37e0ccfd452e6adc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga15cabe29d0066e6c37e0ccfd452e6adc">FlashMainPageProgram</a> (<a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> *pui32Data, <a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Address, <a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Count)</td></tr>
<tr class="separator:ga15cabe29d0066e6c37e0ccfd452e6adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a92b46846b2919278a852f0a4b1ffcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga2a92b46846b2919278a852f0a4b1ffcf">FlashUpperPageProgram</a> (<a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> *pui32Data, <a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Address, <a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Count)</td></tr>
<tr class="separator:ga2a92b46846b2919278a852f0a4b1ffcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec19050e37101a648c689b3f40d8da90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gaec19050e37101a648c689b3f40d8da90">FlashGet</a> (<a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Addr)</td></tr>
<tr class="separator:gaec19050e37101a648c689b3f40d8da90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9664ecdcf054a53ec8e6d896cc3753c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gac9664ecdcf054a53ec8e6d896cc3753c">FlashCacheModeGet</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)</td></tr>
<tr class="separator:gac9664ecdcf054a53ec8e6d896cc3753c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae786aab0fb4bcec9149c918c09fafa15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gae786aab0fb4bcec9149c918c09fafa15">FlashCacheModeSet</a> (<a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32CacheMode)</td></tr>
<tr class="separator:gae786aab0fb4bcec9149c918c09fafa15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79bccd4cdbd7930d880df9e185935d41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga79bccd4cdbd7930d880df9e185935d41">FlashSizeGet</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)</td></tr>
<tr class="separator:ga79bccd4cdbd7930d880df9e185935d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3d3b9146ff61723dddacaa27b82385c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gad3d3b9146ff61723dddacaa27b82385c">FlashSramSizeGet</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)</td></tr>
<tr class="separator:gad3d3b9146ff61723dddacaa27b82385c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac9664ecdcf054a53ec8e6d896cc3753c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> FlashCacheModeGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current state of the flash Cache Mode</p>
<p>This function gets the current setting for the Cache Mode.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the CM bits. Return value should match one of the FLASH_CACHE_MODE_&lt;&gt; macros defined in flash.h. </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00328">328</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae786aab0fb4bcec9149c918c09fafa15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a> FlashCacheModeSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32CacheMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the flash Cache Mode state</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32CacheMode</td><td>is the desired cache mode.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets the flash Cache Mode to the desired state and accepts a right justified 2 bit setting for the Cachemode bits. The function waits for the flash to be idle, reads the FCTL register contents, masks in the requested setting, and writes it into the FCTL register.</p>
<p>The parameter <em>ui32CacheMode</em> can have one of the following values:</p>
<ul>
<li><b>FLASH_CTRL_CACHE_MODE_DISABLE</b> </li>
<li><b>FLASH_CTRL_CACHE_MODE_ENABLE</b> </li>
<li><b>FLASH_CTRL_CACHE_MODE_PREFETCH_ENABLE</b> </li>
<li><b>FLASH_CTRL_CACHE_MODE_REALTIME</b> </li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00358">358</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaec19050e37101a648c689b3f40d8da90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> FlashGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current contents of the flash at the designated address</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Addr</td><td>is the desired address to be read within the flash.</td></tr>
  </table>
  </dd>
</dl>
<p>This function helps differentiate flash memory reads from flash register reads.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the 32bit value as an uint32_t value. </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00312">312</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaedcc8d25fdce7a51b46e6d37629dbef3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a> FlashMainPageErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erases a flash main page with use of ROM function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Address</td><td>is the start address of the flash main page to be erased.</td></tr>
  </table>
  </dd>
</dl>
<p>This function erases one 2 kB main page of the on-chip flash. After erasing, the page is filled with 0xFF bytes. Locked pages cannot be erased. The flash main pages do not include the upper page.</p>
<p>This function does not return until the page is erased or an error encountered.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success, -1 if erasing error is encountered, or -2 in case of illegal parameter use. </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00071">71</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga15cabe29d0066e6c37e0ccfd452e6adc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a> FlashMainPageProgram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pui32Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Programs the flash main pages by use of ROM function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32Data</td><td>is a pointer to the data to be programmed. </td></tr>
    <tr><td class="paramname">ui32Address</td><td>is the starting address in flash to be programmed. Must be a multiple of four and within the flash main pages. </td></tr>
    <tr><td class="paramname">ui32Count</td><td>is the number of bytes to be programmed. Must be a multiple of four.</td></tr>
  </table>
  </dd>
</dl>
<p>This function programs a sequence of words into the on-chip flash. Programming each location consists of the result of an AND operation of the new data and the existing data; in other words, bits that contain 1 can remain 1 or be changed to 0, but bits that are 0 cannot be changed to 1. Therefore, a word can be programmed multiple times as long as these rules are followed; if a program operation attempts to change a 0 bit to a 1 bit, that bit will not have its value changed.</p>
<p>Because the flash is programmed one word at a time, the starting address and byte count must both be multiples of four. The caller must verify the programmed contents, if verification is required.</p>
<p>This function does not return until the data is programmed or an error encountered. Locked flash pages cannot be programmed.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success, -1 if a programming error is encountered or, -2 in case of illegal parameter use. </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00187">187</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga79bccd4cdbd7930d880df9e185935d41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> FlashSizeGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the flash size in number of KBytes</p>
<p>This function returns the size of the flash in KBytes as determined by examining the FLASH_DIECFG0 register settings.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the flash size in KBytes </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00399">399</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad3d3b9146ff61723dddacaa27b82385c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> FlashSramSizeGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the SRAM size in number of KBytes</p>
<p>This function returns the size of the SRAM in KBytes as determined by examining the FLASH_DIECFG0 register settings.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the SRAM size in KBytes </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00443">443</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga67d5a1a47713df085c99877079365f04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a> FlashUpperPageErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erases the upper flash page with use of ROM function</p>
<p>This function erases the 2 kB upper page of the on-chip flash. After erasing, the page is filled with 0xFF bytes. A locked page cannot be erased.</p>
<p>This function does not return until the flash page is erased or an error encountered.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success, -1 if erasing error is encountered or, -2 in case of illegal parameter use. </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00123">123</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2a92b46846b2919278a852f0a4b1ffcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#adb828ef50c2dbb783109824e94cf6c47">int32_t</a> FlashUpperPageProgram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>pui32Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Programs the upper page of the flash by use of ROM function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32Data</td><td>is a pointer to the data to be programmed. </td></tr>
    <tr><td class="paramname">ui32Address</td><td>is the starting address within the flash upper page to be programmed. Must be a multiple of four and within the flash upper page. </td></tr>
    <tr><td class="paramname">ui32Count</td><td>is the number of bytes to be programmed. Must be a multiple of four.</td></tr>
  </table>
  </dd>
</dl>
<p>This function programs a sequence of words into the on-chip flash. Programming each location consists of the result of an AND operation of the new data and the existing data; in other words, bits that contain 1 can remain 1 or be changed to 0, but bits that are 0 cannot be changed to 1. Therefore, a word can be programmed multiple times as long as these rules are followed; if a program operation attempts to change a 0 bit to a 1 bit, that bit will not have its value changed.</p>
<p>Because the flash is programmed one word at a time, the starting address and byte count must both be multiples of four. The caller must verify the programmed contents, if such verification is required.</p>
<p>This function does not return until the data is programmed or an error encountered. A locked flash page cannot be programmed.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success, -1 if a programming error is encountered or, -2 in case of illegal parameter use. </dd></dl>

<p>Definition at line <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html#l00255">255</a> of file <a class="el" href="_open_mote-_c_c2538_2source_2flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 22 2016 17:23:20 for OpenWSN Smartgrid TSCH testbed by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
