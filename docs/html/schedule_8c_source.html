<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>OpenWSN Smartgrid TSCH testbed: /home/lkn/offCloud/Smartgrid-code/GitHub/openwsn-fw/openstack/02b-MAChigh/schedule.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenWSN Smartgrid TSCH testbed
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_78694d734ce807403270c6d7ad43063c.html">openstack</a></li><li class="navelem"><a class="el" href="dir_2e9093b79e59c789803452c5c94436c3.html">02b-MAChigh</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">schedule.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="schedule_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opendefs_8h.html">opendefs.h</a>&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="schedule_8h.html">schedule.h</a>&quot;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="openserial_8h.html">openserial.h</a>&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="openrandom_8h.html">openrandom.h</a>&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="packetfunctions_8h.html">packetfunctions.h</a>&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sixtop_8h.html">sixtop.h</a>&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="idmanager_8h.html">idmanager.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//=========================== variables =======================================</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="schedule_8c.html#a56a6e8cc3c7031ddc19d5289bcb370bd">   11</a></span>&#160;<a class="code" href="structschedule__vars__t.html">schedule_vars_t</a> <a class="code" href="schedule_8c.html#a56a6e8cc3c7031ddc19d5289bcb370bd">schedule_vars</a>;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//=========================== prototypes ======================================</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keywordtype">void</span> <a class="code" href="schedule_8c.html#aac6118dc43add40b823fba1f30056a03">schedule_resetEntry</a>(<a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* pScheduleEntry);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//=========================== public ==========================================</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//=== admin</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="group___schedule.html#ga7297bbaa78e266834d3027fbe33688a2">   26</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#ga7297bbaa78e266834d3027fbe33688a2">schedule_init</a>() {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;   <a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a>    start_slotOffset;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;   <a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a>    running_slotOffset;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;   <a class="code" href="structopen__addr__t.html">open_addr_t</a>     temp_neighbor;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;   <span class="comment">// reset local variables</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;   memset(&amp;schedule_vars,0,<span class="keyword">sizeof</span>(<a class="code" href="structschedule__vars__t.html">schedule_vars_t</a>));</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;   <span class="keywordflow">for</span> (running_slotOffset=0;running_slotOffset&lt;<a class="code" href="group___schedule.html#ga5b6f09fe180237288683a64602eb5a85">MAXACTIVESLOTS</a>;running_slotOffset++) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      <a class="code" href="schedule_8c.html#aac6118dc43add40b823fba1f30056a03">schedule_resetEntry</a>(&amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[running_slotOffset]);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;   }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">backoffExponent</a> = <a class="code" href="group___schedule.html#ga731698f6cbe05cc416f1116762b2dc49">MINBE</a>-1;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a> = <a class="code" href="group___schedule.html#ga5b6f09fe180237288683a64602eb5a85">MAXACTIVESLOTS</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   </div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   start_slotOffset = <a class="code" href="group___schedule.html#ga62c64cb1c9bbbb2927f358c14535fb7f">SCHEDULE_MINIMAL_6TISCH_SLOTOFFSET</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="group___i_d_manager.html#gaa792e6561333f1615bbc61392e826d39">idmanager_getIsDAGroot</a>()==<a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <a class="code" href="group___schedule.html#gade694f312044f8bff151d58c7976d067">schedule_startDAGroot</a>();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;   }</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   </div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   <span class="comment">// serial RX slot(s)</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   start_slotOffset += <a class="code" href="group___schedule.html#ga299d7e29eb70888b68ace83fd3f1a8df">SCHEDULE_MINIMAL_6TISCH_ACTIVE_CELLS</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   memset(&amp;temp_neighbor,0,<span class="keyword">sizeof</span>(temp_neighbor));</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <span class="keywordflow">for</span> (running_slotOffset=start_slotOffset;running_slotOffset&lt;start_slotOffset+<a class="code" href="group___schedule.html#ga5206eabfac75eeed6f5066fb6d00f7c3">NUMSERIALRX</a>;running_slotOffset++) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <a class="code" href="group___schedule.html#ga00825b0f7040c67065d65aadde478241">schedule_addActiveSlot</a>(</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;         running_slotOffset,                    <span class="comment">// slot offset</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;         <a class="code" href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da605bbb03557716b1d5b350c8756a6cdb">CELLTYPE_SERIALRX</a>,                     <span class="comment">// type of slot</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;         <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,                                 <span class="comment">// shared?</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;         0,                                     <span class="comment">// channel offset</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;         &amp;temp_neighbor                         <span class="comment">// neighbor</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      );</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group___schedule.html#gade694f312044f8bff151d58c7976d067">   64</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#gade694f312044f8bff151d58c7976d067">schedule_startDAGroot</a>() {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a>    start_slotOffset;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;   <a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a>    running_slotOffset;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   <a class="code" href="structopen__addr__t.html">open_addr_t</a>     temp_neighbor; </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         addr_cnt;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   </div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   start_slotOffset = <a class="code" href="group___schedule.html#ga62c64cb1c9bbbb2927f358c14535fb7f">SCHEDULE_MINIMAL_6TISCH_SLOTOFFSET</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <span class="comment">// set frame length, handle and number (default 1 by now)</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#a6414f530ffa703355f89868cc4bcc711">frameLength</a> == 0) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;       <span class="comment">// slotframe length is not set, set it to default length</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;       <a class="code" href="group___schedule.html#ga5b2f9c520f24d642064f63558ee6cb45">schedule_setFrameLength</a>(<a class="code" href="group___schedule.html#gaea12b586ec3f6de3ffcfff93da574345">SLOTFRAME_LENGTH</a>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;       <span class="comment">// slotframe elgnth is set, nothing to do here</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <a class="code" href="group___schedule.html#ga2584242bf9622f92c42e59337a38a364">schedule_setFrameHandle</a>(<a class="code" href="group___schedule.html#gad04163370dd0242dd8165e08223a1421">SCHEDULE_MINIMAL_6TISCH_DEFAULT_SLOTFRAME_HANDLE</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <a class="code" href="group___schedule.html#ga8b2f6512ece5caf24247579f28c1a77d">schedule_setFrameNumber</a>(<a class="code" href="group___schedule.html#ga291f502456c112dface9c0a55f3512cf">SCHEDULE_MINIMAL_6TISCH_DEFAULT_SLOTFRAME_NUMBER</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <span class="comment">// shared TXRX anycast slot(s)</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   <span class="comment">//memset(&amp;temp_neighbor,0,sizeof(temp_neighbor));</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="comment">//temp_neighbor.type             = ADDR_ANYCAST;</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    </div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">//&amp;temp_neighbor=idmanager_getMyID(ADDR_64B);</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a2abdbb15dedda5606521852a4b4fc0ba">type</a>         = <a class="code" href="opendefs_8h.html#a52864abcf6ebd8d120995b36fe6ce06eaaca0da977da87a831efebdda8b376fa1">ADDR_64B</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[0]   = 0x14;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[1]   = 0x15;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[2]   = 0x92;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[3]   = 0xcc;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[4]   = 0x00;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[5]   = 0x00;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[6]   = 0x00;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[7]   = 0x04;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    addr_cnt=1;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">for</span> (running_slotOffset=start_slotOffset;running_slotOffset&lt;start_slotOffset+<a class="code" href="group___schedule.html#ga299d7e29eb70888b68ace83fd3f1a8df">SCHEDULE_MINIMAL_6TISCH_ACTIVE_CELLS</a>;running_slotOffset++) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        temp_neighbor.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[7]   = addr_cnt;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        addr_cnt++;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <a class="code" href="group___schedule.html#ga00825b0f7040c67065d65aadde478241">schedule_addActiveSlot</a>(</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;         running_slotOffset,                 <span class="comment">// slot offset</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;         <a class="code" href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da703f29e4d2b16980f09eceaeb7a35281">CELLTYPE_TXRX</a>,                      <span class="comment">// type of slot</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;         <a class="code" href="group___schedule.html#ga884c794595c4aa480df9022648c29564">SHARED</a>,                               <span class="comment">// shared?</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;         <a class="code" href="group___schedule.html#ga485a603a3e03059901c4fc5fc968a1e9">SCHEDULE_MINIMAL_6TISCH_CHANNELOFFSET</a>,    <span class="comment">// channel offset (default SCHEDULE_MINIMAL_6TISCH_CHANNELOFFSET) TODO try different offsets</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;         &amp;temp_neighbor                      <span class="comment">// neighbor</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      );</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <a class="code" href="group___schedule.html#gafbaaa0f57ce9c382c0fc00225a7b2078">debugPrint_schedule</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="group___schedule.html#gafbaaa0f57ce9c382c0fc00225a7b2078">  121</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___schedule.html#gafbaaa0f57ce9c382c0fc00225a7b2078">debugPrint_schedule</a>() {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <a class="code" href="structdebug_schedule_entry__t.html">debugScheduleEntry_t</a> temp;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   <span class="comment">// increment the row just printed</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>         = (schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>+1)%schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   </div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="comment">// gather status data</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#ab2b6485ce752b440885f88f5506c6d6e">row</a>                            = schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#afb3995e0f8a314b53f45958c62256841">slotOffset</a>                     = \</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#ae9c3f17551ebf437fae27900b287591b">type</a>                           = \</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].<a class="code" href="structschedule_entry__t.html#ac6347609af7ef7e8adcf0a4d2a91991a">type</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#abcb60365622ad596a849bb79ac909dad">shared</a>                         = \</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].<a class="code" href="structschedule_entry__t.html#a6e99ef675df0af10aac4235181a1184f">shared</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#a753bd0142c40e6fe63e1aae2e2ff201b">channelOffset</a>                  = \</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].<a class="code" href="structschedule_entry__t.html#aa969962bcdc2e067da69170415226c11">channelOffset</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   memcpy(</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      &amp;temp.<a class="code" href="structdebug_schedule_entry__t.html#ac7937ec3d5e713dd63f9c68e2bea84ce">neighbor</a>,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      &amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="structopen__addr__t.html">open_addr_t</a>)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   );</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#a6b7c99777bf187ca7b2992a08aaaa109">numRx</a>                          = \</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      schedule_vars.scheduleBuf[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].numRx;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#adc3fb28e735838c06b8a82014228ea74">numTx</a>                          = \</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      schedule_vars.scheduleBuf[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].numTx;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   temp.<a class="code" href="structdebug_schedule_entry__t.html#a94b93c2b00124f9dd7dcc4615a648d84">numTxACK</a>                       = \</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      schedule_vars.scheduleBuf[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].numTxACK;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   memcpy(</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      &amp;temp.<a class="code" href="structdebug_schedule_entry__t.html#a7162d1d1b4e7b8c899b2d082eb49da16">lastUsedAsn</a>,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      &amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">debugPrintRow</a>].<a class="code" href="structschedule_entry__t.html#a3b05fd86dfceedf5bb49662089ee7405">lastUsedAsn</a>,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="structasn__t.html">asn_t</a>)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   );</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <span class="comment">// send status data over serial port</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <a class="code" href="group___open_serial.html#gac04f412c3d52f0ffc77e12edb1a49981">openserial_printStatus</a>(</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="opendefs_8h.html#abc3975f01f66a098a347a8262ff103e5a7df3ef2b0bbd29780506734794bcdb47">STATUS_SCHEDULE</a>,</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      (<a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)&amp;temp,</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="structdebug_schedule_entry__t.html">debugScheduleEntry_t</a>)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   );</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   </div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="group___schedule.html#gac7367d23ea854c9f421dd0a18d767fd1">  172</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___schedule.html#gac7367d23ea854c9f421dd0a18d767fd1">debugPrint_backoff</a>() {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> temp[2];</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   </div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="comment">// gather status data</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   temp[0] = schedule_vars.<a class="code" href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">backoffExponent</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   temp[1] = schedule_vars.<a class="code" href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">backoff</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   </div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="comment">// send status data over serial port</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <a class="code" href="group___open_serial.html#gac04f412c3d52f0ffc77e12edb1a49981">openserial_printStatus</a>(</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <a class="code" href="opendefs_8h.html#abc3975f01f66a098a347a8262ff103e5a297a943905d54d8ab53c4f2b62de9d73">STATUS_BACKOFF</a>,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      (<a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)&amp;temp,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keyword">sizeof</span>(temp)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   );</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   </div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">//=== from 6top (writing the schedule)</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="group___schedule.html#ga5b2f9c520f24d642064f63558ee6cb45">  196</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#ga5b2f9c520f24d642064f63558ee6cb45">schedule_setFrameLength</a>(<a class="code" href="group___schedule.html#gab960413860c0b01b38ece025b0ee534d">frameLength_t</a> newFrameLength) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   </div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   </div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#a6414f530ffa703355f89868cc4bcc711">frameLength</a> = newFrameLength;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">if</span> (newFrameLength &lt;= <a class="code" href="group___schedule.html#ga5b6f09fe180237288683a64602eb5a85">MAXACTIVESLOTS</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a> = newFrameLength;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="group___schedule.html#ga2584242bf9622f92c42e59337a38a364">  213</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#ga2584242bf9622f92c42e59337a38a364">schedule_setFrameHandle</a>(<a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> frameHandle) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   </div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   </div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#a2d897e0a8ee6c61193f2567ad80116a9">frameHandle</a> = frameHandle;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   </div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="group___schedule.html#ga8b2f6512ece5caf24247579f28c1a77d">  228</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#ga8b2f6512ece5caf24247579f28c1a77d">schedule_setFrameNumber</a>(<a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> frameNumber) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   </div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#a411d136c167ac38a1b275a04f635f346">frameNumber</a> = frameNumber;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   </div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="group___schedule.html#ga5420055f63ffdbafbd782de6afd7dcbd">  245</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___schedule.html#ga5420055f63ffdbafbd782de6afd7dcbd">schedule_getSlotInfo</a>(</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a>         slotOffset,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <a class="code" href="structopen__addr__t.html">open_addr_t</a>*         neighbor,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <a class="code" href="structslotinfo__element__t.html">slotinfo_element_t</a>*  <a class="code" href="namespaceserial_1_1serialposix.html#a7fb418820b365d6dbde6236e6cf518f1">info</a></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;){</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   </div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* slotContainer;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="comment">// find an empty schedule entry container</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   slotContainer = &amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[0];</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keywordflow">while</span> (slotContainer&lt;=&amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a>-1]) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;       <span class="comment">//check that this entry for that neighbour and timeslot is not already scheduled.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;       <span class="keywordflow">if</span> (<a class="code" href="group___packet_functions.html#ga1f1461cad2a1e59c303d24fa8e165569">packetfunctions_sameAddress</a>(neighbor,&amp;(slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>))&amp;&amp; (slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>==slotOffset)){</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;               <span class="comment">//it exists so this is an update.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;               info-&gt;<a class="code" href="structslotinfo__element__t.html#a5f9179c25d2b344bf30cef3f93973c90">link_type</a>                 = slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#ac6347609af7ef7e8adcf0a4d2a91991a">type</a>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;               info-&gt;<a class="code" href="structslotinfo__element__t.html#ac2c954062ccd3ca94ba56d5c50034f36">shared</a>                    =slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a6e99ef675df0af10aac4235181a1184f">shared</a>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;               info-&gt;<a class="code" href="structslotinfo__element__t.html#ad1ae0d951c110b52d0748a46620a0057">channelOffset</a>             = slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#aa969962bcdc2e067da69170415226c11">channelOffset</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;               <span class="keywordflow">return</span>; <span class="comment">//as this is an update. No need to re-insert as it is in the same position on the list.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        slotContainer++;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="comment">//return cell type off.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   info-&gt;<a class="code" href="structslotinfo__element__t.html#a5f9179c25d2b344bf30cef3f93973c90">link_type</a>                 = <a class="code" href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da1de02f946786ffb3f640a91a9f6a8821">CELLTYPE_OFF</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   info-&gt;<a class="code" href="structslotinfo__element__t.html#ac2c954062ccd3ca94ba56d5c50034f36">shared</a>                    = <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   info-&gt;<a class="code" href="structslotinfo__element__t.html#ad1ae0d951c110b52d0748a46620a0057">channelOffset</a>             = 0;<span class="comment">//set to zero if not set.                          </span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="group___schedule.html#gaa535aa16066ce3a127d6d52ba9e00e4d">  277</a></span>&#160;<a class="code" href="_p_e___types_8h.html#a1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>  <a class="code" href="group___schedule.html#gaa535aa16066ce3a127d6d52ba9e00e4d">schedule_getMaxActiveSlots</a>() {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">return</span> schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="group___schedule.html#ga00825b0f7040c67065d65aadde478241">  291</a></span>&#160;<a class="code" href="opendefs_8h.html#af20b7c3ed9d2ba19e56a309ad9314803">owerror_t</a> <a class="code" href="group___schedule.html#ga00825b0f7040c67065d65aadde478241">schedule_addActiveSlot</a>(</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a>    slotOffset,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="group___schedule.html#gad8490d4fdf8cef27f7e5fa6a37046a3d">cellType_t</a>      type,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordtype">bool</span>            shared,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="group___schedule.html#gab53645758fe83985f0b35af7c5c2115e">channelOffset_t</a> channelOffset,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <a class="code" href="structopen__addr__t.html">open_addr_t</a>*    neighbor</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   ) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* slotContainer;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* previousSlotWalker;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* nextSlotWalker;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   </div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   </div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="comment">// find an empty schedule entry container</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   slotContainer = &amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[0];</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="keywordflow">while</span> (</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;         slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#ac6347609af7ef7e8adcf0a4d2a91991a">type</a>!=<a class="code" href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da1de02f946786ffb3f640a91a9f6a8821">CELLTYPE_OFF</a> &amp;&amp;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         slotContainer&lt;=&amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a>-1]</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      ) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      slotContainer++;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   </div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <span class="comment">// abort it schedule overflow</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keywordflow">if</span> (slotContainer&gt;&amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a>-1]) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="group___open_serial.html#gad798b7b8d507d9cea07e7370dd1a04c1">openserial_printCritical</a>(</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;         <a class="code" href="opendefs_8h.html#a5e8ce9967db697e85d5528dafee6b8dea744ec76f5ed58be9d663073367c18581">COMPONENT_SCHEDULE</a>,<a class="code" href="opendefs_8h.html#aaa91b962ffd8aca2f3c24e886a222419a2bb9b794c32748985503999264495a6e">ERR_SCHEDULE_OVERFLOWN</a>,</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;         (<a class="code" href="opendefs_8h.html#ab3600b91f14426ad1962f368745f44fc">errorparameter_t</a>)0,</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;         (<a class="code" href="opendefs_8h.html#ab3600b91f14426ad1962f368745f44fc">errorparameter_t</a>)0</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      );</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="opendefs_8h.html#a85c7862086c1f92e4fb4108e176d8140afd5484f4c22c4ddd79b539facd9ad7eb">E_FAIL</a>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   </div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="comment">// fill that schedule entry with parameters passed</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>                = slotOffset;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#ac6347609af7ef7e8adcf0a4d2a91991a">type</a>                      = type;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a6e99ef675df0af10aac4235181a1184f">shared</a>                    = shared;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#aa969962bcdc2e067da69170415226c11">channelOffset</a>             = channelOffset;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   memcpy(&amp;slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>,neighbor,<span class="keyword">sizeof</span>(<a class="code" href="structopen__addr__t.html">open_addr_t</a>));</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   </div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="comment">// insert in circular list</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>==<a class="code" href="arm__cm4_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="comment">// this is the first active slot added</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      </div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">// the next slot of this slot is this slot</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>                   = slotContainer;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      </div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// current slot points to this slot</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>    = slotContainer;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   } <span class="keywordflow">else</span>  {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="comment">// this is NOT the first active slot added</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      </div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="comment">// find position in schedule</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      previousSlotWalker                    = schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;         nextSlotWalker                     = previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;         <span class="keywordflow">if</span> (</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;               (</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                     (previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a> &lt;  slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>) &amp;&amp;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                     (slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a> &lt;  nextSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>)</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;               )</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;               ||</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;               (</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                     (previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a> &lt;  slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>) &amp;&amp;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                     (nextSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a> &lt;= previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;               )</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;               ||</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;               (</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                     (slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a> &lt;  nextSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>) &amp;&amp;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                     (nextSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a> &lt;= previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;               )</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;         ) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;         }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;         previousSlotWalker                 = nextSlotWalker;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">// insert between previousSlotWalker and nextSlotWalker</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>              = slotContainer;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>                   = nextSlotWalker;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   </div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="opendefs_8h.html#a85c7862086c1f92e4fb4108e176d8140ac3121e429a129b2ccb51a92b7c78c4b4">E_SUCCESS</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="group___schedule.html#ga6565eddf152a1e9df7bbbbdcf8da87ad">  384</a></span>&#160;<a class="code" href="opendefs_8h.html#af20b7c3ed9d2ba19e56a309ad9314803">owerror_t</a> <a class="code" href="group___schedule.html#ga6565eddf152a1e9df7bbbbdcf8da87ad">schedule_removeActiveSlot</a>(<a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a> slotOffset, <a class="code" href="structopen__addr__t.html">open_addr_t</a>* neighbor) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* slotContainer;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* previousSlotWalker;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   </div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   </div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="comment">// find the schedule entry</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   slotContainer = &amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[0];</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">while</span> (slotContainer&lt;=&amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a>-1]) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">if</span> (</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>==slotOffset</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            &amp;&amp;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <a class="code" href="group___packet_functions.html#ga1f1461cad2a1e59c303d24fa8e165569">packetfunctions_sameAddress</a>(neighbor,&amp;(slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>))</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            ){</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      slotContainer++;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   </div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="comment">// abort it could not find</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keywordflow">if</span> (slotContainer&gt;&amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">scheduleBuf</a>[schedule_vars.<a class="code" href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">maxActiveSlots</a>-1]) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="group___open_serial.html#gad798b7b8d507d9cea07e7370dd1a04c1">openserial_printCritical</a>(</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         <a class="code" href="opendefs_8h.html#a5e8ce9967db697e85d5528dafee6b8dea744ec76f5ed58be9d663073367c18581">COMPONENT_SCHEDULE</a>,<a class="code" href="opendefs_8h.html#aaa91b962ffd8aca2f3c24e886a222419a243a06a635c79d4688769a8c8a3b56f3">ERR_FREEING_ERROR</a>,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;         (<a class="code" href="opendefs_8h.html#ab3600b91f14426ad1962f368745f44fc">errorparameter_t</a>)0,</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;         (<a class="code" href="opendefs_8h.html#ab3600b91f14426ad1962f368745f44fc">errorparameter_t</a>)0</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      );</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="opendefs_8h.html#a85c7862086c1f92e4fb4108e176d8140afd5484f4c22c4ddd79b539facd9ad7eb">E_FAIL</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   </div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="comment">// remove from linked list</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">if</span> (slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>==slotContainer) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="comment">// this is the last active slot</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      </div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="comment">// the next slot of this slot is NULL</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>                   = <a class="code" href="arm__cm4_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      </div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="comment">// current slot points to this slot</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>    = <a class="code" href="arm__cm4_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   } <span class="keywordflow">else</span>  {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="comment">// this is NOT the last active slot</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      </div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="comment">// find the previous in the schedule</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      previousSlotWalker                    = schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      </div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;         <span class="keywordflow">if</span> (previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>==slotContainer){</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;         }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;         previousSlotWalker                 = previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      </div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="comment">// remove this element from the linked list, i.e. have the previous slot</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="comment">// &quot;jump&quot; to slotContainer&#39;s next</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      previousSlotWalker-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>              = slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      </div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="comment">// update current slot if points to slot I just removed</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>==slotContainer) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;         schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a> = slotContainer-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   </div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="comment">// reset removed schedule entry</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <a class="code" href="schedule_8c.html#aac6118dc43add40b823fba1f30056a03">schedule_resetEntry</a>(slotContainer);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   </div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   </div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="opendefs_8h.html#a85c7862086c1f92e4fb4108e176d8140ac3121e429a129b2ccb51a92b7c78c4b4">E_SUCCESS</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="group___schedule.html#ga08f2bf7e2661dddfa4eb18f80cdad000">  455</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___schedule.html#ga08f2bf7e2661dddfa4eb18f80cdad000">schedule_isSlotOffsetAvailable</a>(<a class="code" href="_p_e___types_8h.html#a1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> slotOffset){</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* scheduleWalker;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   </div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   </div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   scheduleWalker = schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">if</span>(slotOffset == scheduleWalker-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>){</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      scheduleWalker = scheduleWalker-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   }<span class="keywordflow">while</span>(scheduleWalker!=schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   </div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   </div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="group___schedule.html#gaa341503b0e4ebafeaff9ab5de94be13f">  476</a></span>&#160;<a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* <a class="code" href="group___schedule.html#gaa341503b0e4ebafeaff9ab5de94be13f">schedule_statistic_poorLinkQuality</a>(){</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* scheduleWalker;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   </div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   </div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   scheduleWalker = schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">if</span>(</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;         scheduleWalker-&gt;<a class="code" href="structschedule_entry__t.html#a6887573f858a99315e44117d3d986603">numTx</a> &gt; <a class="code" href="group___schedule.html#ga9f09f2107f559401598f179a3a8cabe6">MIN_NUMTX_FOR_PDR</a>                     &amp;&amp;\</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         <a class="code" href="group___schedule.html#ga120d77f8a5101329b471874495b73942">PDR_THRESHOLD</a> &gt; 100*scheduleWalker-&gt;<a class="code" href="structschedule_entry__t.html#a1d36b25d8c34eb5c55ca1b718cf4788b">numTxACK</a>/scheduleWalker-&gt;<a class="code" href="structschedule_entry__t.html#a6887573f858a99315e44117d3d986603">numTx</a></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      ){</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      scheduleWalker = scheduleWalker-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   }<span class="keywordflow">while</span>(scheduleWalker!=schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   </div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="keywordflow">if</span> (scheduleWalker == schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>){</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;       <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;       <span class="keywordflow">return</span> <a class="code" href="arm__cm4_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;       <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;       <span class="keywordflow">return</span> scheduleWalker;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">//=== from IEEE802154E: reading the schedule and updating statistics</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="group___schedule.html#gaf44e496db5d623ea8168d0eaeffc8b2d">  504</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#gaf44e496db5d623ea8168d0eaeffc8b2d">schedule_syncSlotOffset</a>(<a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a> targetSlotOffset) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   </div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   </div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordflow">while</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>!=targetSlotOffset) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="group___schedule.html#gae6998948df91f1ef9124bec27dc87c2e">schedule_advanceSlot</a>();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   </div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="group___schedule.html#gae6998948df91f1ef9124bec27dc87c2e">  519</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#gae6998948df91f1ef9124bec27dc87c2e">schedule_advanceSlot</a>() {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   </div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   </div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a> = schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   </div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="group___schedule.html#ga01252633416fb574b1277b1303030248">  532</a></span>&#160;<a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a> <a class="code" href="group___schedule.html#ga01252633416fb574b1277b1303030248">schedule_getNextActiveSlotOffset</a>() {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <a class="code" href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a> res;   </div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   </div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   </div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   res = ((<a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>*)(schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>))-&gt;slotOffset;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   </div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   </div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="group___schedule.html#gad9d1ef9965017c2923cb6905b7cc6b7f">  550</a></span>&#160;<a class="code" href="group___schedule.html#gab960413860c0b01b38ece025b0ee534d">frameLength_t</a> <a class="code" href="group___schedule.html#gad9d1ef9965017c2923cb6905b7cc6b7f">schedule_getFrameLength</a>() {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <a class="code" href="group___schedule.html#gab960413860c0b01b38ece025b0ee534d">frameLength_t</a> returnVal;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   </div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   </div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   returnVal = schedule_vars.<a class="code" href="structschedule__vars__t.html#a6414f530ffa703355f89868cc4bcc711">frameLength</a>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   </div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   </div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <span class="keywordflow">return</span> returnVal;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="group___schedule.html#gab5f5f36f28daf8b9d66ca4bea15bfd15">  568</a></span>&#160;<a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="group___schedule.html#gab5f5f36f28daf8b9d66ca4bea15bfd15">schedule_getFrameHandle</a>() {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> returnVal;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   </div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   </div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   returnVal = schedule_vars.<a class="code" href="structschedule__vars__t.html#a2d897e0a8ee6c61193f2567ad80116a9">frameHandle</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   </div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   </div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keywordflow">return</span> returnVal;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="group___schedule.html#gafeced111ea698fa49d70a22d96ad3014">  586</a></span>&#160;<a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="group___schedule.html#gafeced111ea698fa49d70a22d96ad3014">schedule_getFrameNumber</a>() {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <a class="code" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> returnVal;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   </div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   </div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   returnVal = schedule_vars.<a class="code" href="structschedule__vars__t.html#a411d136c167ac38a1b275a04f635f346">frameNumber</a>;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   </div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   </div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordflow">return</span> returnVal;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="group___schedule.html#gafbc894e77f655a69eb9a76bd79f08bda">  603</a></span>&#160;<a class="code" href="group___schedule.html#gad8490d4fdf8cef27f7e5fa6a37046a3d">cellType_t</a> <a class="code" href="group___schedule.html#gafbc894e77f655a69eb9a76bd79f08bda">schedule_getType</a>() {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <a class="code" href="group___schedule.html#gad8490d4fdf8cef27f7e5fa6a37046a3d">cellType_t</a> returnVal;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   </div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   </div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   returnVal = schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#ac6347609af7ef7e8adcf0a4d2a91991a">type</a>;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   </div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   </div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <span class="keywordflow">return</span> returnVal;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="group___schedule.html#ga6a1d0334cd9da212a38a1db05e291d3a">  621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#ga6a1d0334cd9da212a38a1db05e291d3a">schedule_getNeighbor</a>(<a class="code" href="structopen__addr__t.html">open_addr_t</a>* addrToWrite) {</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   </div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   </div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   memcpy(addrToWrite,&amp;(schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>),<span class="keyword">sizeof</span>(<a class="code" href="structopen__addr__t.html">open_addr_t</a>));</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   </div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="group___schedule.html#gac5b1f77de9164b82f73cdc76612e5e54">  636</a></span>&#160;<a class="code" href="group___schedule.html#gab53645758fe83985f0b35af7c5c2115e">channelOffset_t</a> <a class="code" href="group___schedule.html#gac5b1f77de9164b82f73cdc76612e5e54">schedule_getChannelOffset</a>() {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   <a class="code" href="group___schedule.html#gab53645758fe83985f0b35af7c5c2115e">channelOffset_t</a> returnVal;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   </div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   </div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   returnVal = schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#aa969962bcdc2e067da69170415226c11">channelOffset</a>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   </div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   </div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keywordflow">return</span> returnVal;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="group___schedule.html#gab5a0194710b51bf73b6aa363cb2fd8cb">  661</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___schedule.html#gab5a0194710b51bf73b6aa363cb2fd8cb">schedule_getOkToSend</a>() {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   <span class="keywordtype">bool</span> returnVal;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   </div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   </div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a6e99ef675df0af10aac4235181a1184f">shared</a>==<a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">// non-shared slot: backoff does not apply</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      </div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      returnVal = <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="comment">// non-shared slot: check backoff before answering</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      </div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="comment">// decrement backoff</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">backoff</a>&gt;0) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;         schedule_vars.<a class="code" href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">backoff</a>--;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      </div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="comment">// only return TRUE if backoff hit 0</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">backoff</a>==0) {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;         returnVal = <a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         returnVal = <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   </div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   </div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <span class="keywordflow">return</span> returnVal;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="group___schedule.html#ga0d3ec70265c59fdb1ba215d67f04ec83">  695</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#ga0d3ec70265c59fdb1ba215d67f04ec83">schedule_resetBackoff</a>() {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   </div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   </div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <span class="comment">// reset backoffExponent</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">backoffExponent</a> = <a class="code" href="group___schedule.html#ga731698f6cbe05cc416f1116762b2dc49">MINBE</a>-1;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="comment">// reset backoff</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">backoff</a>         = 0;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   </div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="group___schedule.html#gaf1980123fcc1fea95f3bcfdf63de083d">  711</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#gaf1980123fcc1fea95f3bcfdf63de083d">schedule_indicateRx</a>(<a class="code" href="structasn__t.html">asn_t</a>* asnTimestamp) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   </div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   </div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="comment">// increment usage statistics</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#ae84de6e2444f784ace17da19c33f0e2c">numRx</a>++;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   <span class="comment">// update last used timestamp</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   memcpy(&amp;(schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a3b05fd86dfceedf5bb49662089ee7405">lastUsedAsn</a>), asnTimestamp, <span class="keyword">sizeof</span>(<a class="code" href="structasn__t.html">asn_t</a>));</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   </div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="group___schedule.html#gab4fc72142c898c09598ab0d0b255b794">  728</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___schedule.html#gab4fc72142c898c09598ab0d0b255b794">schedule_indicateTx</a>(<a class="code" href="structasn__t.html">asn_t</a>* asnTimestamp, <span class="keywordtype">bool</span> succesfullTx) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   </div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a>();</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   </div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   <span class="comment">// increment usage statistics</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a6887573f858a99315e44117d3d986603">numTx</a>==0xFF) {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a6887573f858a99315e44117d3d986603">numTx</a>/=2;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a1d36b25d8c34eb5c55ca1b718cf4788b">numTxACK</a>/=2;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a6887573f858a99315e44117d3d986603">numTx</a>++;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <span class="keywordflow">if</span> (succesfullTx==<a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a1d36b25d8c34eb5c55ca1b718cf4788b">numTxACK</a>++;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   <span class="comment">// update last used timestamp</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   memcpy(&amp;schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a3b05fd86dfceedf5bb49662089ee7405">lastUsedAsn</a>, asnTimestamp, <span class="keyword">sizeof</span>(<a class="code" href="structasn__t.html">asn_t</a>));</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <span class="comment">// update this backoff parameters for shared slots</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">currentScheduleEntry</a>-&gt;<a class="code" href="structschedule_entry__t.html#a6e99ef675df0af10aac4235181a1184f">shared</a>==<a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">if</span> (succesfullTx==<a class="code" href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;         <span class="comment">// reset backoffExponent</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;         schedule_vars.<a class="code" href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">backoffExponent</a> = <a class="code" href="group___schedule.html#ga731698f6cbe05cc416f1116762b2dc49">MINBE</a>-1;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;         <span class="comment">// reset backoff</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;         schedule_vars.<a class="code" href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">backoff</a>         = 0;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;         <span class="comment">// increase the backoffExponent</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;         <span class="keywordflow">if</span> (schedule_vars.<a class="code" href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">backoffExponent</a>&lt;<a class="code" href="group___schedule.html#ga484b7be00a72295108c945848f750943">MAXBE</a>) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            schedule_vars.<a class="code" href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">backoffExponent</a>++;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;         }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;         <span class="comment">// set the backoff to a random value in [0..2^BE]</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;         schedule_vars.<a class="code" href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">backoff</a>         = <a class="code" href="group___open_random.html#ga70626e5a23d14d7d426517fb5389252d">openrandom_get16b</a>()%(1&lt;&lt;schedule_vars.<a class="code" href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">backoffExponent</a>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   </div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a>();</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">//=========================== private =========================================</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="schedule_8c.html#aac6118dc43add40b823fba1f30056a03">  771</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="schedule_8c.html#aac6118dc43add40b823fba1f30056a03">schedule_resetEntry</a>(<a class="code" href="structschedule_entry__t.html">scheduleEntry_t</a>* e) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">slotOffset</a>             = 0;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#ac6347609af7ef7e8adcf0a4d2a91991a">type</a>                   = <a class="code" href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da1de02f946786ffb3f640a91a9f6a8821">CELLTYPE_OFF</a>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a6e99ef675df0af10aac4235181a1184f">shared</a>                 = <a class="code" href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#aa969962bcdc2e067da69170415226c11">channelOffset</a>          = 0;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>.<a class="code" href="structopen__addr__t.html#a2abdbb15dedda5606521852a4b4fc0ba">type</a>          = <a class="code" href="opendefs_8h.html#a52864abcf6ebd8d120995b36fe6ce06ea07e76a62e6dae715afc17dc09ea1557f">ADDR_NONE</a>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   memset(&amp;e-&gt;<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>[0], 0x00, <span class="keyword">sizeof</span>(e-&gt;<a class="code" href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">neighbor</a>.<a class="code" href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">addr_64b</a>));</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#ae84de6e2444f784ace17da19c33f0e2c">numRx</a>                  = 0;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a6887573f858a99315e44117d3d986603">numTx</a>                  = 0;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a1d36b25d8c34eb5c55ca1b718cf4788b">numTxACK</a>               = 0;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a3b05fd86dfceedf5bb49662089ee7405">lastUsedAsn</a>.<a class="code" href="structasn__t.html#a9d2a032fe9b1adf08fc25d1cc73e8745">bytes0and1</a> = 0;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a3b05fd86dfceedf5bb49662089ee7405">lastUsedAsn</a>.<a class="code" href="structasn__t.html#ae7a99f086ee6e28c6c72e248b6041b95">bytes2and3</a> = 0;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a3b05fd86dfceedf5bb49662089ee7405">lastUsedAsn</a>.<a class="code" href="structasn__t.html#af158e9c9bc092ed0347896a9c024c258">byte4</a>      = 0;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   e-&gt;<a class="code" href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">next</a>                   = <a class="code" href="arm__cm4_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div><div class="ttc" id="group___schedule_html_gae6998948df91f1ef9124bec27dc87c2e"><div class="ttname"><a href="group___schedule.html#gae6998948df91f1ef9124bec27dc87c2e">schedule_advanceSlot</a></div><div class="ttdeci">void schedule_advanceSlot()</div><div class="ttdoc">advance to next active slot </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00519">schedule.c:519</a></div></div>
<div class="ttc" id="opendefs_8h_html_a85c7862086c1f92e4fb4108e176d8140ac3121e429a129b2ccb51a92b7c78c4b4"><div class="ttname"><a href="opendefs_8h.html#a85c7862086c1f92e4fb4108e176d8140ac3121e429a129b2ccb51a92b7c78c4b4">E_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00053">opendefs.h:53</a></div></div>
<div class="ttc" id="group___schedule_html_gaf1980123fcc1fea95f3bcfdf63de083d"><div class="ttname"><a href="group___schedule.html#gaf1980123fcc1fea95f3bcfdf63de083d">schedule_indicateRx</a></div><div class="ttdeci">void schedule_indicateRx(asn_t *asnTimestamp)</div><div class="ttdoc">Indicate the reception of a packet. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00711">schedule.c:711</a></div></div>
<div class="ttc" id="group___schedule_html_gaa535aa16066ce3a127d6d52ba9e00e4d"><div class="ttname"><a href="group___schedule.html#gaa535aa16066ce3a127d6d52ba9e00e4d">schedule_getMaxActiveSlots</a></div><div class="ttdeci">uint16_t schedule_getMaxActiveSlots()</div><div class="ttdoc">Get the maximum number of active slots. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00277">schedule.c:277</a></div></div>
<div class="ttc" id="agilefox_2board__info_8h_html_aafcaa3cb5de374b74117d66a78e6589b"><div class="ttname"><a href="agilefox_2board__info_8h.html#aafcaa3cb5de374b74117d66a78e6589b">INTERRUPT_DECLARATION</a></div><div class="ttdeci">#define INTERRUPT_DECLARATION()</div><div class="ttdoc">agilefox board information bsp module (based on openmoteSTM32 code). </div><div class="ttdef"><b>Definition:</b> <a href="agilefox_2board__info_8h_source.html#l00026">board_info.h:26</a></div></div>
<div class="ttc" id="group___schedule_html_gad04163370dd0242dd8165e08223a1421"><div class="ttname"><a href="group___schedule.html#gad04163370dd0242dd8165e08223a1421">SCHEDULE_MINIMAL_6TISCH_DEFAULT_SLOTFRAME_HANDLE</a></div><div class="ttdeci">#define SCHEDULE_MINIMAL_6TISCH_DEFAULT_SLOTFRAME_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00039">schedule.h:39</a></div></div>
<div class="ttc" id="group___schedule_html_ga8b2f6512ece5caf24247579f28c1a77d"><div class="ttname"><a href="group___schedule.html#ga8b2f6512ece5caf24247579f28c1a77d">schedule_setFrameNumber</a></div><div class="ttdeci">void schedule_setFrameNumber(uint8_t frameNumber)</div><div class="ttdoc">Set frame number. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00228">schedule.c:228</a></div></div>
<div class="ttc" id="group___schedule_html_gad9d1ef9965017c2923cb6905b7cc6b7f"><div class="ttname"><a href="group___schedule.html#gad9d1ef9965017c2923cb6905b7cc6b7f">schedule_getFrameLength</a></div><div class="ttdeci">frameLength_t schedule_getFrameLength()</div><div class="ttdoc">Get the frame length. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00550">schedule.c:550</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_aaef939536fcb09d07535d0209a512fad"><div class="ttname"><a href="structschedule__vars__t.html#aaef939536fcb09d07535d0209a512fad">schedule_vars_t::backoffExponent</a></div><div class="ttdeci">uint8_t backoffExponent</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00138">schedule.h:138</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_ae84de6e2444f784ace17da19c33f0e2c"><div class="ttname"><a href="structschedule_entry__t.html#ae84de6e2444f784ace17da19c33f0e2c">scheduleEntry_t::numRx</a></div><div class="ttdeci">uint8_t numRx</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00099">schedule.h:99</a></div></div>
<div class="ttc" id="opendefs_8h_html_a85c7862086c1f92e4fb4108e176d8140afd5484f4c22c4ddd79b539facd9ad7eb"><div class="ttname"><a href="opendefs_8h.html#a85c7862086c1f92e4fb4108e176d8140afd5484f4c22c4ddd79b539facd9ad7eb">E_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00054">opendefs.h:54</a></div></div>
<div class="ttc" id="group___schedule_html_gade694f312044f8bff151d58c7976d067"><div class="ttname"><a href="group___schedule.html#gade694f312044f8bff151d58c7976d067">schedule_startDAGroot</a></div><div class="ttdeci">void schedule_startDAGroot()</div><div class="ttdoc">Starting the DAGroot schedule propagation. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00064">schedule.c:64</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_a94b93c2b00124f9dd7dcc4615a648d84"><div class="ttname"><a href="structdebug_schedule_entry__t.html#a94b93c2b00124f9dd7dcc4615a648d84">debugScheduleEntry_t::numTxACK</a></div><div class="ttdeci">uint8_t numTxACK</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00116">schedule.h:116</a></div></div>
<div class="ttc" id="group___schedule_html_ga08f2bf7e2661dddfa4eb18f80cdad000"><div class="ttname"><a href="group___schedule.html#ga08f2bf7e2661dddfa4eb18f80cdad000">schedule_isSlotOffsetAvailable</a></div><div class="ttdeci">bool schedule_isSlotOffsetAvailable(uint16_t slotOffset)</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00455">schedule.c:455</a></div></div>
<div class="ttc" id="openserial_8h_html"><div class="ttname"><a href="openserial_8h.html">openserial.h</a></div></div>
<div class="ttc" id="group___open_serial_html_gad798b7b8d507d9cea07e7370dd1a04c1"><div class="ttname"><a href="group___open_serial.html#gad798b7b8d507d9cea07e7370dd1a04c1">openserial_printCritical</a></div><div class="ttdeci">owerror_t openserial_printCritical(uint8_t calling_component, uint8_t error_code, errorparameter_t arg1, errorparameter_t arg2)</div><div class="ttdef"><b>Definition:</b> <a href="openserial_8c_source.html#l00217">openserial.c:217</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_afb3995e0f8a314b53f45958c62256841"><div class="ttname"><a href="structdebug_schedule_entry__t.html#afb3995e0f8a314b53f45958c62256841">debugScheduleEntry_t::slotOffset</a></div><div class="ttdeci">slotOffset_t slotOffset</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00109">schedule.h:109</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_a52208142c72b2c5b9ba473b3ddd51909"><div class="ttname"><a href="structschedule_entry__t.html#a52208142c72b2c5b9ba473b3ddd51909">scheduleEntry_t::neighbor</a></div><div class="ttdeci">open_addr_t neighbor</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00098">schedule.h:98</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_ac7937ec3d5e713dd63f9c68e2bea84ce"><div class="ttname"><a href="structdebug_schedule_entry__t.html#ac7937ec3d5e713dd63f9c68e2bea84ce">debugScheduleEntry_t::neighbor</a></div><div class="ttdeci">open_addr_t neighbor</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00113">schedule.h:113</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_a8a63d21af04805a20c4361f58b809d51"><div class="ttname"><a href="structschedule__vars__t.html#a8a63d21af04805a20c4361f58b809d51">schedule_vars_t::currentScheduleEntry</a></div><div class="ttdeci">scheduleEntry_t * currentScheduleEntry</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00133">schedule.h:133</a></div></div>
<div class="ttc" id="group___packet_functions_html_ga1f1461cad2a1e59c303d24fa8e165569"><div class="ttname"><a href="group___packet_functions.html#ga1f1461cad2a1e59c303d24fa8e165569">packetfunctions_sameAddress</a></div><div class="ttdeci">bool packetfunctions_sameAddress(open_addr_t *address_1, open_addr_t *address_2)</div><div class="ttdef"><b>Definition:</b> <a href="packetfunctions_8c_source.html#l00165">packetfunctions.c:165</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_a753bd0142c40e6fe63e1aae2e2ff201b"><div class="ttname"><a href="structdebug_schedule_entry__t.html#a753bd0142c40e6fe63e1aae2e2ff201b">debugScheduleEntry_t::channelOffset</a></div><div class="ttdeci">uint8_t channelOffset</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00112">schedule.h:112</a></div></div>
<div class="ttc" id="_p_e___types_8h_html_a1f1825b69244eb3ad2c7165ddc99c956"><div class="ttname"><a href="_p_e___types_8h.html#a1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></div><div class="ttdeci">unsigned int uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="_p_e___types_8h_source.html#l00057">PE_Types.h:57</a></div></div>
<div class="ttc" id="group___schedule_html_ga291f502456c112dface9c0a55f3512cf"><div class="ttname"><a href="group___schedule.html#ga291f502456c112dface9c0a55f3512cf">SCHEDULE_MINIMAL_6TISCH_DEFAULT_SLOTFRAME_NUMBER</a></div><div class="ttdeci">#define SCHEDULE_MINIMAL_6TISCH_DEFAULT_SLOTFRAME_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00040">schedule.h:40</a></div></div>
<div class="ttc" id="group___schedule_html_gaa341503b0e4ebafeaff9ab5de94be13f"><div class="ttname"><a href="group___schedule.html#gaa341503b0e4ebafeaff9ab5de94be13f">schedule_statistic_poorLinkQuality</a></div><div class="ttdeci">scheduleEntry_t * schedule_statistic_poorLinkQuality()</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00476">schedule.c:476</a></div></div>
<div class="ttc" id="group___schedule_html_gab5a0194710b51bf73b6aa363cb2fd8cb"><div class="ttname"><a href="group___schedule.html#gab5a0194710b51bf73b6aa363cb2fd8cb">schedule_getOkToSend</a></div><div class="ttdeci">bool schedule_getOkToSend()</div><div class="ttdoc">Check whether I can send on this slot. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00661">schedule.c:661</a></div></div>
<div class="ttc" id="group___open_serial_html_gac04f412c3d52f0ffc77e12edb1a49981"><div class="ttname"><a href="group___open_serial.html#gac04f412c3d52f0ffc77e12edb1a49981">openserial_printStatus</a></div><div class="ttdeci">owerror_t openserial_printStatus(uint8_t statusElement, uint8_t *buffer, uint8_t length)</div><div class="ttdef"><b>Definition:</b> <a href="openserial_8c_source.html#l00094">openserial.c:94</a></div></div>
<div class="ttc" id="schedule_8c_html_aac6118dc43add40b823fba1f30056a03"><div class="ttname"><a href="schedule_8c.html#aac6118dc43add40b823fba1f30056a03">schedule_resetEntry</a></div><div class="ttdeci">void schedule_resetEntry(scheduleEntry_t *pScheduleEntry)</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00771">schedule.c:771</a></div></div>
<div class="ttc" id="group___schedule_html_ga484b7be00a72295108c945848f750943"><div class="ttname"><a href="group___schedule.html#ga484b7be00a72295108c945848f750943">MAXBE</a></div><div class="ttdeci">#define MAXBE</div><div class="ttdoc">Maximum backoff exponent. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00070">schedule.h:70</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_adc3fb28e735838c06b8a82014228ea74"><div class="ttname"><a href="structdebug_schedule_entry__t.html#adc3fb28e735838c06b8a82014228ea74">debugScheduleEntry_t::numTx</a></div><div class="ttdeci">uint8_t numTx</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00115">schedule.h:115</a></div></div>
<div class="ttc" id="idmanager_8h_html"><div class="ttname"><a href="idmanager_8h.html">idmanager.h</a></div></div>
<div class="ttc" id="structasn__t_html_af158e9c9bc092ed0347896a9c024c258"><div class="ttname"><a href="structasn__t.html#af158e9c9bc092ed0347896a9c024c258">asn_t::byte4</a></div><div class="ttdeci">uint8_t byte4</div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00264">opendefs.h:264</a></div></div>
<div class="ttc" id="structopen__addr__t_html_a7ca9b0c966447d191c6f05e375571231"><div class="ttname"><a href="structopen__addr__t.html#a7ca9b0c966447d191c6f05e375571231">open_addr_t::addr_64b</a></div><div class="ttdeci">uint8_t addr_64b[8]</div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00277">opendefs.h:277</a></div></div>
<div class="ttc" id="agilefox_2board__info_8h_html_a8eb672ccdf01b424c5e6d085013fd47f"><div class="ttname"><a href="agilefox_2board__info_8h.html#a8eb672ccdf01b424c5e6d085013fd47f">DISABLE_INTERRUPTS</a></div><div class="ttdeci">#define DISABLE_INTERRUPTS()    </div><div class="ttdef"><b>Definition:</b> <a href="agilefox_2board__info_8h_source.html#l00028">board_info.h:28</a></div></div>
<div class="ttc" id="structopen__addr__t_html_a2abdbb15dedda5606521852a4b4fc0ba"><div class="ttname"><a href="structopen__addr__t.html#a2abdbb15dedda5606521852a4b4fc0ba">open_addr_t::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00274">opendefs.h:274</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_abcb60365622ad596a849bb79ac909dad"><div class="ttname"><a href="structdebug_schedule_entry__t.html#abcb60365622ad596a849bb79ac909dad">debugScheduleEntry_t::shared</a></div><div class="ttdeci">bool shared</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00111">schedule.h:111</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_ab93c6951abd5fd6fecabe15b5faf7644"><div class="ttname"><a href="structschedule__vars__t.html#ab93c6951abd5fd6fecabe15b5faf7644">schedule_vars_t::maxActiveSlots</a></div><div class="ttdeci">frameLength_t maxActiveSlots</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00135">schedule.h:135</a></div></div>
<div class="ttc" id="group___schedule_html_gab4fc72142c898c09598ab0d0b255b794"><div class="ttname"><a href="group___schedule.html#gab4fc72142c898c09598ab0d0b255b794">schedule_indicateTx</a></div><div class="ttdeci">void schedule_indicateTx(asn_t *asnTimestamp, bool succesfullTx)</div><div class="ttdoc">Indicate the transmission of a packet. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00728">schedule.c:728</a></div></div>
<div class="ttc" id="group___schedule_html_ga5206eabfac75eeed6f5066fb6d00f7c3"><div class="ttname"><a href="group___schedule.html#ga5206eabfac75eeed6f5066fb6d00f7c3">NUMSERIALRX</a></div><div class="ttdeci">#define NUMSERIALRX</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00027">schedule.h:27</a></div></div>
<div class="ttc" id="group___schedule_html_gac5b1f77de9164b82f73cdc76612e5e54"><div class="ttname"><a href="group___schedule.html#gac5b1f77de9164b82f73cdc76612e5e54">schedule_getChannelOffset</a></div><div class="ttdeci">channelOffset_t schedule_getChannelOffset()</div><div class="ttdoc">Get the channel offset of the current schedule entry. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00636">schedule.c:636</a></div></div>
<div class="ttc" id="group___open_random_html_ga70626e5a23d14d7d426517fb5389252d"><div class="ttname"><a href="group___open_random.html#ga70626e5a23d14d7d426517fb5389252d">openrandom_get16b</a></div><div class="ttdeci">uint16_t openrandom_get16b()</div><div class="ttdef"><b>Definition:</b> <a href="openrandom_8c_source.html#l00020">openrandom.c:20</a></div></div>
<div class="ttc" id="group___schedule_html_gaf44e496db5d623ea8168d0eaeffc8b2d"><div class="ttname"><a href="group___schedule.html#gaf44e496db5d623ea8168d0eaeffc8b2d">schedule_syncSlotOffset</a></div><div class="ttdeci">void schedule_syncSlotOffset(slotOffset_t targetSlotOffset)</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00504">schedule.c:504</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html"><div class="ttname"><a href="structdebug_schedule_entry__t.html">debugScheduleEntry_t</a></div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00107">schedule.h:107</a></div></div>
<div class="ttc" id="opendefs_8h_html_abc3975f01f66a098a347a8262ff103e5a297a943905d54d8ab53c4f2b62de9d73"><div class="ttname"><a href="opendefs_8h.html#abc3975f01f66a098a347a8262ff103e5a297a943905d54d8ab53c4f2b62de9d73">STATUS_BACKOFF</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00115">opendefs.h:115</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_aa969962bcdc2e067da69170415226c11"><div class="ttname"><a href="structschedule_entry__t.html#aa969962bcdc2e067da69170415226c11">scheduleEntry_t::channelOffset</a></div><div class="ttdeci">uint8_t channelOffset</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00097">schedule.h:97</a></div></div>
<div class="ttc" id="group___schedule_html_ga62c64cb1c9bbbb2927f358c14535fb7f"><div class="ttname"><a href="group___schedule.html#ga62c64cb1c9bbbb2927f358c14535fb7f">SCHEDULE_MINIMAL_6TISCH_SLOTOFFSET</a></div><div class="ttdeci">#define SCHEDULE_MINIMAL_6TISCH_SLOTOFFSET</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00036">schedule.h:36</a></div></div>
<div class="ttc" id="types_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00062">types.h:62</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_aef135d552e6640d22fdc5315c9c17983"><div class="ttname"><a href="structschedule__vars__t.html#aef135d552e6640d22fdc5315c9c17983">schedule_vars_t::backoff</a></div><div class="ttdeci">uint8_t backoff</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00139">schedule.h:139</a></div></div>
<div class="ttc" id="group___schedule_html_ga120d77f8a5101329b471874495b73942"><div class="ttname"><a href="group___schedule.html#ga120d77f8a5101329b471874495b73942">PDR_THRESHOLD</a></div><div class="ttdeci">#define PDR_THRESHOLD</div><div class="ttdoc">a threshold used for triggering the maintaining process.uint: percent </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00075">schedule.h:75</a></div></div>
<div class="ttc" id="structslotinfo__element__t_html"><div class="ttname"><a href="structslotinfo__element__t.html">slotinfo_element_t</a></div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00121">schedule.h:121</a></div></div>
<div class="ttc" id="group___schedule_html_gafbaaa0f57ce9c382c0fc00225a7b2078"><div class="ttname"><a href="group___schedule.html#gafbaaa0f57ce9c382c0fc00225a7b2078">debugPrint_schedule</a></div><div class="ttdeci">bool debugPrint_schedule()</div><div class="ttdoc">Trigger this module to print status information, over serial. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00121">schedule.c:121</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_a6b7c99777bf187ca7b2992a08aaaa109"><div class="ttname"><a href="structdebug_schedule_entry__t.html#a6b7c99777bf187ca7b2992a08aaaa109">debugScheduleEntry_t::numRx</a></div><div class="ttdeci">uint8_t numRx</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00114">schedule.h:114</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_ac6347609af7ef7e8adcf0a4d2a91991a"><div class="ttname"><a href="structschedule_entry__t.html#ac6347609af7ef7e8adcf0a4d2a91991a">scheduleEntry_t::type</a></div><div class="ttdeci">cellType_t type</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00095">schedule.h:95</a></div></div>
<div class="ttc" id="group___schedule_html_ga485a603a3e03059901c4fc5fc968a1e9"><div class="ttname"><a href="group___schedule.html#ga485a603a3e03059901c4fc5fc968a1e9">SCHEDULE_MINIMAL_6TISCH_CHANNELOFFSET</a></div><div class="ttdeci">#define SCHEDULE_MINIMAL_6TISCH_CHANNELOFFSET</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00038">schedule.h:38</a></div></div>
<div class="ttc" id="structasn__t_html"><div class="ttname"><a href="structasn__t.html">asn_t</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00263">opendefs.h:263</a></div></div>
<div class="ttc" id="opendefs_8h_html_abc3975f01f66a098a347a8262ff103e5a7df3ef2b0bbd29780506734794bcdb47"><div class="ttname"><a href="opendefs_8h.html#abc3975f01f66a098a347a8262ff103e5a7df3ef2b0bbd29780506734794bcdb47">STATUS_SCHEDULE</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00114">opendefs.h:114</a></div></div>
<div class="ttc" id="structslotinfo__element__t_html_ac2c954062ccd3ca94ba56d5c50034f36"><div class="ttname"><a href="structslotinfo__element__t.html#ac2c954062ccd3ca94ba56d5c50034f36">slotinfo_element_t::shared</a></div><div class="ttdeci">bool shared</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00124">schedule.h:124</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_a7162d1d1b4e7b8c899b2d082eb49da16"><div class="ttname"><a href="structdebug_schedule_entry__t.html#a7162d1d1b4e7b8c899b2d082eb49da16">debugScheduleEntry_t::lastUsedAsn</a></div><div class="ttdeci">asn_t lastUsedAsn</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00117">schedule.h:117</a></div></div>
<div class="ttc" id="group___schedule_html_ga5420055f63ffdbafbd782de6afd7dcbd"><div class="ttname"><a href="group___schedule.html#ga5420055f63ffdbafbd782de6afd7dcbd">schedule_getSlotInfo</a></div><div class="ttdeci">void schedule_getSlotInfo(slotOffset_t slotOffset, open_addr_t *neighbor, slotinfo_element_t *info)</div><div class="ttdoc">Get the information of a specific slot. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00245">schedule.c:245</a></div></div>
<div class="ttc" id="group___schedule_html_ggad8490d4fdf8cef27f7e5fa6a37046a3da605bbb03557716b1d5b350c8756a6cdb"><div class="ttname"><a href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da605bbb03557716b1d5b350c8756a6cdb">CELLTYPE_SERIALRX</a></div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00089">schedule.h:89</a></div></div>
<div class="ttc" id="group___schedule_html_ga5b6f09fe180237288683a64602eb5a85"><div class="ttname"><a href="group___schedule.html#ga5b6f09fe180237288683a64602eb5a85">MAXACTIVESLOTS</a></div><div class="ttdeci">#define MAXACTIVESLOTS</div><div class="ttdoc">Maximum number of active slots in a superframe. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00054">schedule.h:54</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_a635dac221078c4d63365ccf2b65fa273"><div class="ttname"><a href="structschedule_entry__t.html#a635dac221078c4d63365ccf2b65fa273">scheduleEntry_t::slotOffset</a></div><div class="ttdeci">slotOffset_t slotOffset</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00094">schedule.h:94</a></div></div>
<div class="ttc" id="group___schedule_html_ga6565eddf152a1e9df7bbbbdcf8da87ad"><div class="ttname"><a href="group___schedule.html#ga6565eddf152a1e9df7bbbbdcf8da87ad">schedule_removeActiveSlot</a></div><div class="ttdeci">owerror_t schedule_removeActiveSlot(slotOffset_t slotOffset, open_addr_t *neighbor)</div><div class="ttdoc">Remove an active slot from the schedule. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00384">schedule.c:384</a></div></div>
<div class="ttc" id="opendefs_8h_html_aaa91b962ffd8aca2f3c24e886a222419a243a06a635c79d4688769a8c8a3b56f3"><div class="ttname"><a href="opendefs_8h.html#aaa91b962ffd8aca2f3c24e886a222419a243a06a635c79d4688769a8c8a3b56f3">ERR_FREEING_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00239">opendefs.h:239</a></div></div>
<div class="ttc" id="opendefs_8h_html_af20b7c3ed9d2ba19e56a309ad9314803"><div class="ttname"><a href="opendefs_8h.html#af20b7c3ed9d2ba19e56a309ad9314803">owerror_t</a></div><div class="ttdeci">uint8_t owerror_t</div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00260">opendefs.h:260</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_a6826ab0c8f46dbdf97a135c5475f5285"><div class="ttname"><a href="structschedule__vars__t.html#a6826ab0c8f46dbdf97a135c5475f5285">schedule_vars_t::debugPrintRow</a></div><div class="ttdeci">uint8_t debugPrintRow</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00140">schedule.h:140</a></div></div>
<div class="ttc" id="group___schedule_html_ga884c794595c4aa480df9022648c29564"><div class="ttname"><a href="group___schedule.html#ga884c794595c4aa480df9022648c29564">SHARED</a></div><div class="ttdeci">#define SHARED</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00030">schedule.h:30</a></div></div>
<div class="ttc" id="group___schedule_html_ga731698f6cbe05cc416f1116762b2dc49"><div class="ttname"><a href="group___schedule.html#ga731698f6cbe05cc416f1116762b2dc49">MINBE</a></div><div class="ttdeci">#define MINBE</div><div class="ttdoc">Minimum backoff exponent. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00063">schedule.h:63</a></div></div>
<div class="ttc" id="opendefs_8h_html"><div class="ttname"><a href="opendefs_8h.html">opendefs.h</a></div></div>
<div class="ttc" id="group___schedule_html_gad8490d4fdf8cef27f7e5fa6a37046a3d"><div class="ttname"><a href="group___schedule.html#gad8490d4fdf8cef27f7e5fa6a37046a3d">cellType_t</a></div><div class="ttdeci">cellType_t</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00084">schedule.h:84</a></div></div>
<div class="ttc" id="openrandom_8h_html"><div class="ttname"><a href="openrandom_8h.html">openrandom.h</a></div></div>
<div class="ttc" id="arm__cm4_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="arm__cm4_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="arm__cm4_8h_source.html#l00051">arm_cm4.h:51</a></div></div>
<div class="ttc" id="group___schedule_html_gaea12b586ec3f6de3ffcfff93da574345"><div class="ttname"><a href="group___schedule.html#gaea12b586ec3f6de3ffcfff93da574345">SLOTFRAME_LENGTH</a></div><div class="ttdeci">#define SLOTFRAME_LENGTH</div><div class="ttdoc">The length of the superframe, in slots. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00026">schedule.h:26</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_a05b00ed294afeac2f3e2525231039a5c"><div class="ttname"><a href="structschedule__vars__t.html#a05b00ed294afeac2f3e2525231039a5c">schedule_vars_t::scheduleBuf</a></div><div class="ttdeci">scheduleEntry_t scheduleBuf[MAXACTIVESLOTS]</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00132">schedule.h:132</a></div></div>
<div class="ttc" id="namespaceserial_1_1serialposix_html_a7fb418820b365d6dbde6236e6cf518f1"><div class="ttname"><a href="namespaceserial_1_1serialposix.html#a7fb418820b365d6dbde6236e6cf518f1">serial.serialposix.info</a></div><div class="ttdeci">string info</div><div class="ttdef"><b>Definition:</b> <a href="serialposix_8py_source.html#l00073">serialposix.py:73</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_a6887573f858a99315e44117d3d986603"><div class="ttname"><a href="structschedule_entry__t.html#a6887573f858a99315e44117d3d986603">scheduleEntry_t::numTx</a></div><div class="ttdeci">uint8_t numTx</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00100">schedule.h:100</a></div></div>
<div class="ttc" id="agilefox_2board__info_8h_html_a067b9176075d532963a05e0422d2de56"><div class="ttname"><a href="agilefox_2board__info_8h.html#a067b9176075d532963a05e0422d2de56">ENABLE_INTERRUPTS</a></div><div class="ttdeci">#define ENABLE_INTERRUPTS()      </div><div class="ttdef"><b>Definition:</b> <a href="agilefox_2board__info_8h_source.html#l00029">board_info.h:29</a></div></div>
<div class="ttc" id="group___schedule_html_gab960413860c0b01b38ece025b0ee534d"><div class="ttname"><a href="group___schedule.html#gab960413860c0b01b38ece025b0ee534d">frameLength_t</a></div><div class="ttdeci">uint16_t frameLength_t</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00082">schedule.h:82</a></div></div>
<div class="ttc" id="structopen__addr__t_html"><div class="ttname"><a href="structopen__addr__t.html">open_addr_t</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00273">opendefs.h:273</a></div></div>
<div class="ttc" id="structasn__t_html_a9d2a032fe9b1adf08fc25d1cc73e8745"><div class="ttname"><a href="structasn__t.html#a9d2a032fe9b1adf08fc25d1cc73e8745">asn_t::bytes0and1</a></div><div class="ttdeci">uint16_t bytes0and1</div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00266">opendefs.h:266</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_a13e3d86bb55df3decf594be0056947b3"><div class="ttname"><a href="structschedule_entry__t.html#a13e3d86bb55df3decf594be0056947b3">scheduleEntry_t::next</a></div><div class="ttdeci">void * next</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00103">schedule.h:103</a></div></div>
<div class="ttc" id="group___schedule_html_ga7297bbaa78e266834d3027fbe33688a2"><div class="ttname"><a href="group___schedule.html#ga7297bbaa78e266834d3027fbe33688a2">schedule_init</a></div><div class="ttdeci">void schedule_init()</div><div class="ttdoc">Initialize this module. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00026">schedule.c:26</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_a1d36b25d8c34eb5c55ca1b718cf4788b"><div class="ttname"><a href="structschedule_entry__t.html#a1d36b25d8c34eb5c55ca1b718cf4788b">scheduleEntry_t::numTxACK</a></div><div class="ttdeci">uint8_t numTxACK</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00101">schedule.h:101</a></div></div>
<div class="ttc" id="group___schedule_html_ga299d7e29eb70888b68ace83fd3f1a8df"><div class="ttname"><a href="group___schedule.html#ga299d7e29eb70888b68ace83fd3f1a8df">SCHEDULE_MINIMAL_6TISCH_ACTIVE_CELLS</a></div><div class="ttdeci">#define SCHEDULE_MINIMAL_6TISCH_ACTIVE_CELLS</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00034">schedule.h:34</a></div></div>
<div class="ttc" id="structasn__t_html_ae7a99f086ee6e28c6c72e248b6041b95"><div class="ttname"><a href="structasn__t.html#ae7a99f086ee6e28c6c72e248b6041b95">asn_t::bytes2and3</a></div><div class="ttdeci">uint16_t bytes2and3</div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00265">opendefs.h:265</a></div></div>
<div class="ttc" id="schedule_8h_html"><div class="ttname"><a href="schedule_8h.html">schedule.h</a></div></div>
<div class="ttc" id="sixtop_8h_html"><div class="ttname"><a href="sixtop_8h.html">sixtop.h</a></div></div>
<div class="ttc" id="group___schedule_html_gab53645758fe83985f0b35af7c5c2115e"><div class="ttname"><a href="group___schedule.html#gab53645758fe83985f0b35af7c5c2115e">channelOffset_t</a></div><div class="ttdeci">uint8_t channelOffset_t</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00080">schedule.h:80</a></div></div>
<div class="ttc" id="_p_e___types_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="_p_e___types_8h_source.html#l00054">PE_Types.h:54</a></div></div>
<div class="ttc" id="opendefs_8h_html_a5e8ce9967db697e85d5528dafee6b8dea744ec76f5ed58be9d663073367c18581"><div class="ttname"><a href="opendefs_8h.html#a5e8ce9967db697e85d5528dafee6b8dea744ec76f5ed58be9d663073367c18581">COMPONENT_SCHEDULE</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00149">opendefs.h:149</a></div></div>
<div class="ttc" id="group___schedule_html_gafeced111ea698fa49d70a22d96ad3014"><div class="ttname"><a href="group___schedule.html#gafeced111ea698fa49d70a22d96ad3014">schedule_getFrameNumber</a></div><div class="ttdeci">uint8_t schedule_getFrameNumber()</div><div class="ttdoc">Get the frame number. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00586">schedule.c:586</a></div></div>
<div class="ttc" id="types_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00063">types.h:63</a></div></div>
<div class="ttc" id="structslotinfo__element__t_html_ad1ae0d951c110b52d0748a46620a0057"><div class="ttname"><a href="structslotinfo__element__t.html#ad1ae0d951c110b52d0748a46620a0057">slotinfo_element_t::channelOffset</a></div><div class="ttdeci">channelOffset_t channelOffset</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00126">schedule.h:126</a></div></div>
<div class="ttc" id="structschedule_entry__t_html"><div class="ttname"><a href="structschedule_entry__t.html">scheduleEntry_t</a></div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00093">schedule.h:93</a></div></div>
<div class="ttc" id="opendefs_8h_html_a52864abcf6ebd8d120995b36fe6ce06ea07e76a62e6dae715afc17dc09ea1557f"><div class="ttname"><a href="opendefs_8h.html#a52864abcf6ebd8d120995b36fe6ce06ea07e76a62e6dae715afc17dc09ea1557f">ADDR_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00059">opendefs.h:59</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_a411d136c167ac38a1b275a04f635f346"><div class="ttname"><a href="structschedule__vars__t.html#a411d136c167ac38a1b275a04f635f346">schedule_vars_t::frameNumber</a></div><div class="ttdeci">uint8_t frameNumber</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00137">schedule.h:137</a></div></div>
<div class="ttc" id="schedule_8c_html_a56a6e8cc3c7031ddc19d5289bcb370bd"><div class="ttname"><a href="schedule_8c.html#a56a6e8cc3c7031ddc19d5289bcb370bd">schedule_vars</a></div><div class="ttdeci">schedule_vars_t schedule_vars</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00011">schedule.c:11</a></div></div>
<div class="ttc" id="group___schedule_html_ggad8490d4fdf8cef27f7e5fa6a37046a3da703f29e4d2b16980f09eceaeb7a35281"><div class="ttname"><a href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da703f29e4d2b16980f09eceaeb7a35281">CELLTYPE_TXRX</a></div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00088">schedule.h:88</a></div></div>
<div class="ttc" id="group___schedule_html_ga2584242bf9622f92c42e59337a38a364"><div class="ttname"><a href="group___schedule.html#ga2584242bf9622f92c42e59337a38a364">schedule_setFrameHandle</a></div><div class="ttdeci">void schedule_setFrameHandle(uint8_t frameHandle)</div><div class="ttdoc">Set frame handle. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00213">schedule.c:213</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_a3b05fd86dfceedf5bb49662089ee7405"><div class="ttname"><a href="structschedule_entry__t.html#a3b05fd86dfceedf5bb49662089ee7405">scheduleEntry_t::lastUsedAsn</a></div><div class="ttdeci">asn_t lastUsedAsn</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00102">schedule.h:102</a></div></div>
<div class="ttc" id="structschedule__vars__t_html"><div class="ttname"><a href="structschedule__vars__t.html">schedule_vars_t</a></div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00131">schedule.h:131</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_ab2b6485ce752b440885f88f5506c6d6e"><div class="ttname"><a href="structdebug_schedule_entry__t.html#ab2b6485ce752b440885f88f5506c6d6e">debugScheduleEntry_t::row</a></div><div class="ttdeci">uint8_t row</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00108">schedule.h:108</a></div></div>
<div class="ttc" id="opendefs_8h_html_aaa91b962ffd8aca2f3c24e886a222419a2bb9b794c32748985503999264495a6e"><div class="ttname"><a href="opendefs_8h.html#aaa91b962ffd8aca2f3c24e886a222419a2bb9b794c32748985503999264495a6e">ERR_SCHEDULE_OVERFLOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00214">opendefs.h:214</a></div></div>
<div class="ttc" id="structdebug_schedule_entry__t_html_ae9c3f17551ebf437fae27900b287591b"><div class="ttname"><a href="structdebug_schedule_entry__t.html#ae9c3f17551ebf437fae27900b287591b">debugScheduleEntry_t::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00110">schedule.h:110</a></div></div>
<div class="ttc" id="group___schedule_html_gac7367d23ea854c9f421dd0a18d767fd1"><div class="ttname"><a href="group___schedule.html#gac7367d23ea854c9f421dd0a18d767fd1">debugPrint_backoff</a></div><div class="ttdeci">bool debugPrint_backoff()</div><div class="ttdoc">Trigger this module to print status information, over serial. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00172">schedule.c:172</a></div></div>
<div class="ttc" id="opendefs_8h_html_a52864abcf6ebd8d120995b36fe6ce06eaaca0da977da87a831efebdda8b376fa1"><div class="ttname"><a href="opendefs_8h.html#a52864abcf6ebd8d120995b36fe6ce06eaaca0da977da87a831efebdda8b376fa1">ADDR_64B</a></div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00061">opendefs.h:61</a></div></div>
<div class="ttc" id="group___schedule_html_ga9f09f2107f559401598f179a3a8cabe6"><div class="ttname"><a href="group___schedule.html#ga9f09f2107f559401598f179a3a8cabe6">MIN_NUMTX_FOR_PDR</a></div><div class="ttdeci">#define MIN_NUMTX_FOR_PDR</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00076">schedule.h:76</a></div></div>
<div class="ttc" id="group___i_d_manager_html_gaa792e6561333f1615bbc61392e826d39"><div class="ttname"><a href="group___i_d_manager.html#gaa792e6561333f1615bbc61392e826d39">idmanager_getIsDAGroot</a></div><div class="ttdeci">bool idmanager_getIsDAGroot()</div><div class="ttdef"><b>Definition:</b> <a href="idmanager_8c_source.html#l00080">idmanager.c:80</a></div></div>
<div class="ttc" id="group___schedule_html_gafbc894e77f655a69eb9a76bd79f08bda"><div class="ttname"><a href="group___schedule.html#gafbc894e77f655a69eb9a76bd79f08bda">schedule_getType</a></div><div class="ttdeci">cellType_t schedule_getType()</div><div class="ttdoc">Get the type of the current schedule entry. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00603">schedule.c:603</a></div></div>
<div class="ttc" id="packetfunctions_8h_html"><div class="ttname"><a href="packetfunctions_8h.html">packetfunctions.h</a></div></div>
<div class="ttc" id="group___schedule_html_ga0d3ec70265c59fdb1ba215d67f04ec83"><div class="ttname"><a href="group___schedule.html#ga0d3ec70265c59fdb1ba215d67f04ec83">schedule_resetBackoff</a></div><div class="ttdeci">void schedule_resetBackoff()</div><div class="ttdoc">Reset the backoff and backoffExponent. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00695">schedule.c:695</a></div></div>
<div class="ttc" id="group___schedule_html_gab5f5f36f28daf8b9d66ca4bea15bfd15"><div class="ttname"><a href="group___schedule.html#gab5f5f36f28daf8b9d66ca4bea15bfd15">schedule_getFrameHandle</a></div><div class="ttdeci">uint8_t schedule_getFrameHandle()</div><div class="ttdoc">Get the frame handle. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00568">schedule.c:568</a></div></div>
<div class="ttc" id="group___schedule_html_ga00825b0f7040c67065d65aadde478241"><div class="ttname"><a href="group___schedule.html#ga00825b0f7040c67065d65aadde478241">schedule_addActiveSlot</a></div><div class="ttdeci">owerror_t schedule_addActiveSlot(slotOffset_t slotOffset, cellType_t type, bool shared, channelOffset_t channelOffset, open_addr_t *neighbor)</div><div class="ttdoc">Add a new active slot into the schedule. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00291">schedule.c:291</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_a6414f530ffa703355f89868cc4bcc711"><div class="ttname"><a href="structschedule__vars__t.html#a6414f530ffa703355f89868cc4bcc711">schedule_vars_t::frameLength</a></div><div class="ttdeci">frameLength_t frameLength</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00134">schedule.h:134</a></div></div>
<div class="ttc" id="group___schedule_html_ga01252633416fb574b1277b1303030248"><div class="ttname"><a href="group___schedule.html#ga01252633416fb574b1277b1303030248">schedule_getNextActiveSlotOffset</a></div><div class="ttdeci">slotOffset_t schedule_getNextActiveSlotOffset()</div><div class="ttdoc">return slotOffset of next active slot </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00532">schedule.c:532</a></div></div>
<div class="ttc" id="group___schedule_html_ga30a663860a70d8c9db2c3a8e66f544fc"><div class="ttname"><a href="group___schedule.html#ga30a663860a70d8c9db2c3a8e66f544fc">slotOffset_t</a></div><div class="ttdeci">uint16_t slotOffset_t</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00081">schedule.h:81</a></div></div>
<div class="ttc" id="structschedule__vars__t_html_a2d897e0a8ee6c61193f2567ad80116a9"><div class="ttname"><a href="structschedule__vars__t.html#a2d897e0a8ee6c61193f2567ad80116a9">schedule_vars_t::frameHandle</a></div><div class="ttdeci">uint8_t frameHandle</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00136">schedule.h:136</a></div></div>
<div class="ttc" id="opendefs_8h_html_ab3600b91f14426ad1962f368745f44fc"><div class="ttname"><a href="opendefs_8h.html#ab3600b91f14426ad1962f368745f44fc">errorparameter_t</a></div><div class="ttdeci">uint16_t errorparameter_t</div><div class="ttdef"><b>Definition:</b> <a href="opendefs_8h_source.html#l00258">opendefs.h:258</a></div></div>
<div class="ttc" id="structschedule_entry__t_html_a6e99ef675df0af10aac4235181a1184f"><div class="ttname"><a href="structschedule_entry__t.html#a6e99ef675df0af10aac4235181a1184f">scheduleEntry_t::shared</a></div><div class="ttdeci">bool shared</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00096">schedule.h:96</a></div></div>
<div class="ttc" id="group___schedule_html_ga6a1d0334cd9da212a38a1db05e291d3a"><div class="ttname"><a href="group___schedule.html#ga6a1d0334cd9da212a38a1db05e291d3a">schedule_getNeighbor</a></div><div class="ttdeci">void schedule_getNeighbor(open_addr_t *addrToWrite)</div><div class="ttdoc">Get the neighbor associated wit the current schedule entry. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00621">schedule.c:621</a></div></div>
<div class="ttc" id="group___schedule_html_ga5b2f9c520f24d642064f63558ee6cb45"><div class="ttname"><a href="group___schedule.html#ga5b2f9c520f24d642064f63558ee6cb45">schedule_setFrameLength</a></div><div class="ttdeci">void schedule_setFrameLength(frameLength_t newFrameLength)</div><div class="ttdoc">Set frame length. </div><div class="ttdef"><b>Definition:</b> <a href="schedule_8c_source.html#l00196">schedule.c:196</a></div></div>
<div class="ttc" id="structslotinfo__element__t_html_a5f9179c25d2b344bf30cef3f93973c90"><div class="ttname"><a href="structslotinfo__element__t.html#a5f9179c25d2b344bf30cef3f93973c90">slotinfo_element_t::link_type</a></div><div class="ttdeci">cellType_t link_type</div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00123">schedule.h:123</a></div></div>
<div class="ttc" id="group___schedule_html_ggad8490d4fdf8cef27f7e5fa6a37046a3da1de02f946786ffb3f640a91a9f6a8821"><div class="ttname"><a href="group___schedule.html#ggad8490d4fdf8cef27f7e5fa6a37046a3da1de02f946786ffb3f640a91a9f6a8821">CELLTYPE_OFF</a></div><div class="ttdef"><b>Definition:</b> <a href="schedule_8h_source.html#l00085">schedule.h:85</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 22 2016 17:23:10 for OpenWSN Smartgrid TSCH testbed by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
