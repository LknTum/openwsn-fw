<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>OpenWSN Smartgrid TSCH testbed: Adc_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenWSN Smartgrid TSCH testbed
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Adc_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga95ca16f5e0870ecda7d0113b301e42dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__api.html#ga95ca16f5e0870ecda7d0113b301e42dd">SOCADCIntRegister</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>(*pfnHandler)(<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>))</td></tr>
<tr class="separator:ga95ca16f5e0870ecda7d0113b301e42dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cad63f5d3e8f07798b1ce439440d0ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__api.html#ga5cad63f5d3e8f07798b1ce439440d0ae">SOCADCIntUnregister</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)</td></tr>
<tr class="separator:ga5cad63f5d3e8f07798b1ce439440d0ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96d92c8cc062f4c45831f5b128bc21da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__api.html#ga96d92c8cc062f4c45831f5b128bc21da">SOCADCSingleConfigure</a> (<a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Resolution, <a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Reference)</td></tr>
<tr class="separator:ga96d92c8cc062f4c45831f5b128bc21da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa59f17369b3f02c90197e3278a563cdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__api.html#gaa59f17369b3f02c90197e3278a563cdd">SOCADCSingleStart</a> (<a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a> ui32Channel)</td></tr>
<tr class="separator:gaa59f17369b3f02c90197e3278a563cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga774b502a5e44f376d1332c6a1a1c9af8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#a1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__api.html#ga774b502a5e44f376d1332c6a1a1c9af8">SOCADCDataGet</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)</td></tr>
<tr class="separator:ga774b502a5e44f376d1332c6a1a1c9af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b30a4921618f172b95d88347145a5a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adc__api.html#ga7b30a4921618f172b95d88347145a5a9">SOCADCEndOfCOnversionGet</a> (<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)</td></tr>
<tr class="separator:ga7b30a4921618f172b95d88347145a5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga774b502a5e44f376d1332c6a1a1c9af8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#a1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> SOCADCDataGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get data value from conversion</p>
<p>This function gets the latest conversion data result of the programmed conversion. The function returns 16 bits of data, but depending on the programmed precision, only part of the data is significant. The following defined bit masks can be used to extract the significant data depending on the decimation rate: <b>SOCADC_7_BIT_MASK</b>, <b>SOCADC_9_BIT_MASK</b>, <b>SOCADC_10_BIT_MASK</b> and <b>SOCADC_12_BIT_MASK</b> </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__adc__api.html#ga7b30a4921618f172b95d88347145a5a9">SOCADCEndOfCOnversionGet()</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Data conversion value </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00248">248</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7b30a4921618f172b95d88347145a5a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> SOCADCEndOfCOnversionGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if conversion is done</p>
<p>This function can be used to query the status of the conversion.</p>
<dl class="section return"><dt>Returns</dt><dd>true if conversion is done, otherwise false. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00268">268</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga95ca16f5e0870ecda7d0113b301e42dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a> SOCADCIntRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>(*)(<a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>)&#160;</td>
          <td class="paramname"><em>pfnHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers an interrupt handler for ADC interrupt</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfnHandler</td><td>is a pointer to the function called when the SOC ADC interrupt occurs.</td></tr>
  </table>
  </dd>
</dl>
<p>This function does the actual registering of the interrupt handler, which enables the global interrupt in the interrupt controller.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering <a class="el" href="_g_c_c_2_m_s_p430_f449_2port_8c.html#ae0992854bdba99f7b163894433c32aef">interrupt</a> handlers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00071">71</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5cad63f5d3e8f07798b1ce439440d0ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a> SOCADCIntUnregister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregisters an interrupt handler for the ADC interrupt</p>
<p>This function does the actual unregistering of the interrupt handler. This function clears the handler to be called when an ADC interrupt occurs and masks off the interrupt in the interrupt controller so that the interrupt handler no longer is called.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering <a class="el" href="_g_c_c_2_m_s_p430_f449_2port_8c.html#ae0992854bdba99f7b163894433c32aef">interrupt</a> handlers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00100">100</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga96d92c8cc062f4c45831f5b128bc21da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a> SOCADCSingleConfigure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Resolution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Reference</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure ADC conversion for a single channel</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Resolution</td><td>is the resolution of the conversion. </td></tr>
    <tr><td class="paramname">ui32Reference</td><td>is the reference voltage to be used for the conversion.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the ADC for a single channel conversion. The <em>ui32Resolution</em> parameter must be one of: <b>SOCADC_7_BIT</b>, <b>SOCADC_9_BIT</b>, <b>SOCADC_10_BIT</b> or <b>SOCADC_12_BIT</b>. The reference voltage is set using the <em>ui32Reference</em> parameter, which must be configured as one of the following: <b>SOCADC_REF_INTERNAL</b> for internal reference, <b>SOCADC_REF_EXT_AIN7</b> for external reference on pin AIN7 (pad PA7), <b>SOCADC_REF_AVDD5</b> for external AVDD5 pin, <b>SOCADC_REF_EXT_AIN67</b> for external reference on differential input pins AIN6-AIN7 (Pads PA6-PA7).</p>
<dl class="section note"><dt>Note</dt><dd>A single conversion triggers an interrupt if this has been registered using <a class="el" href="group__adc__api.html#ga95ca16f5e0870ecda7d0113b301e42dd">SOCADCIntRegister()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__adc__api.html#gaa59f17369b3f02c90197e3278a563cdd">SOCADCSingleStart()</a> and <a class="el" href="group__adc__api.html#ga95ca16f5e0870ecda7d0113b301e42dd">SOCADCIntRegister()</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00140">140</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa59f17369b3f02c90197e3278a563cdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usb__devapi_8h.html#afabf60e7f57651d6d595a02c75f07cd0">void</a> SOCADCSingleStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#a33594304e786b158f3fb30289278f5af">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ui32Channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a configured single conversion</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Channel</td><td>is the input channel to use for the conversion.</td></tr>
  </table>
  </dd>
</dl>
<p>This function initiates a configured single channel conversion. The input channel is set using the <em>ui32Channel</em> parameter. This parameter must be configured as one of the following values: <b>SOCADC_AIN0</b> for single ended input Pad PA0 <b>SOCADC_AIN1</b> for single ended input Pad PA1 <b>SOCADC_AIN2</b> for single ended input Pad PA2 <b>SOCADC_AIN3</b> for single ended input Pad PA3 <b>SOCADC_AIN4</b> for single ended input Pad PA4 <b>SOCADC_AIN5</b> for single ended input Pad PA5 <b>SOCADC_AIN6</b> for single ended input Pad PA6 <b>SOCADC_AIN7</b> for single ended input Pad PA7 <b>SOCADC_AIN01</b> for differential Pads PA0-PA1 <b>SOCADC_AIN23</b> for differential Pads PA2-PA3 <b>SOCADC_AIN45</b> for differential Pads PA4-PA5 <b>SOCADC_AIN67</b> for differential Pads PA6-PA7 <b>SOCADC_GND</b> for Ground as input <b>SOCADC_TEMP_SENS</b> for on-chip temperature sensor <b>SOCADC_VDD</b> for Vdd/3</p>
<dl class="section note"><dt>Note</dt><dd>A single conversion triggers an interrupt if this has been registered using <a class="el" href="group__adc__api.html#ga95ca16f5e0870ecda7d0113b301e42dd">SOCADCIntRegister()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__adc__api.html#ga96d92c8cc062f4c45831f5b128bc21da">SOCADCSingleConfigure()</a> and <a class="el" href="group__adc__api.html#ga95ca16f5e0870ecda7d0113b301e42dd">SOCADCIntRegister()</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00200">200</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 22 2016 17:23:20 for OpenWSN Smartgrid TSCH testbed by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
